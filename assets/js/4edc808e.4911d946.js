"use strict";(self.webpackChunkdockview_docs=self.webpackChunkdockview_docs||[]).push([[173],{876:function(e,t,i){i.d(t,{Zo:function(){return h},kt:function(){return p}});var n=i(7294);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}var u=n.createContext({}),d=function(e){var t=n.useContext(u),i=t;return e&&(i="function"==typeof e?e(t):s(s({},t),e)),i},h=function(e){var t=d(e.components);return n.createElement(u.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var i=e.components,o=e.mdxType,r=e.originalType,u=e.parentName,h=a(e,["components","mdxType","originalType","parentName"]),c=d(i),p=o,m=c["".concat(u,".").concat(p)]||c[p]||l[p]||r;return i?n.createElement(m,s(s({ref:t},h),{},{components:i})):n.createElement(m,s({ref:t},h))}));function p(e,t){var i=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=i.length,s=new Array(r);s[0]=c;var a={};for(var u in t)hasOwnProperty.call(t,u)&&(a[u]=t[u]);a.originalType=e,a.mdxType="string"==typeof e?e:o,s[1]=a;for(var d=2;d<r;d++)s[d]=i[d];return n.createElement.apply(null,s)}return n.createElement.apply(null,i)}c.displayName="MDXCreateElement"},7483:function(e,t,i){i.d(t,{tu:function(){return $e},$R:function(){return nt},i5:function(){return R},Vm:function(){return rt},TU:function(){return tt}});var n=i(4578),o=function(){},r=function(e){function t(t,i,n){var o;return(o=e.call(this)||this).viewId=t,o.groupId=i,o.panelId=n,o}return(0,n.Z)(t,e),t}(o),s=function(e){function t(t,i){var n;return(n=e.call(this)||this).viewId=t,n.paneId=i,n}return(0,n.Z)(t,e),t}(o),a=function(){function e(){}e.getInstance=function(){return e.INSTANCE};var t=e.prototype;return t.hasData=function(e){return e&&e===this.proto},t.clearData=function(e){this.hasData(e)&&(this.proto=void 0,this.data=void 0)},t.getData=function(e){if(this.hasData(e))return this.data},t.setData=function(e,t){t&&(this.data=e,this.proto=t)},e}();function u(){var e=a.getInstance();if(e.hasData(r.prototype))return e.getData(r.prototype)[0]}function d(){var e=a.getInstance();if(e.hasData(s.prototype))return e.getData(s.prototype)[0]}a.INSTANCE=new a;var h,l=i(7855);function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.any=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){var i=t.map((function(t){return t(e)}));return{dispose:function(){i.forEach((function(e){e.dispose()}))}}}}}(h||(h={}));var m=function(){function e(e){this.options=e,this._listeners=[],this._disposed=!1}var t=e.prototype;return t.fire=function(e){this._last=e;for(var t,i=(0,l.Z)(this._listeners);!(t=i()).done;){(0,t.value)(e)}},t.dispose=function(){this._listeners=[],this._disposed=!0},p(e,[{key:"event",get:function(){var e=this;return this._event||(this._event=function(t){var i;return(null===(i=e.options)||void 0===i?void 0:i.replay)&&void 0!==e._last&&t(e._last),e._listeners.push(t),{dispose:function(){var i=e._listeners.indexOf(t);i>-1&&e._listeners.splice(i,1)}}}),this._event}}]),e}();function v(e,t,i,n){return e.addEventListener(t,i,n),{dispose:function(){e.removeEventListener(t,i)}}}function f(e,t,i,n){return e.addEventListener(t,i,n),{dispose:function(){e.removeEventListener(t,i)}}}var g,w=function(){function e(){this._onFired=new m,this.onEvent=this._onFired.event}var t=e.prototype;return t.fire=function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e._onFired.fire(),clearTimeout(e.timer)}))},t.dispose=function(){this._onFired.dispose()},e}(),y=i(8852);!function(e){e.NONE={dispose:function(){}}}(g||(g={}));var _=function(){function e(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.disposables=t}e.from=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return(0,y.Z)(e,i)};var t=e.prototype;return t.addDisposables=function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];i.forEach((function(t){return e.disposables.push(t)}))},t.dispose=function(){this.disposables.forEach((function(e){return e.dispose()}))},e}(),b=function(){function e(){this._disposable=g.NONE}return e.prototype.dispose=function(){this._disposable&&(this._disposable.dispose(),this._disposable=g.NONE)},p(e,[{key:"value",set:function(e){this._disposable&&this._disposable.dispose(),this._disposable=e}}]),e}();function C(e,t){var i=new ResizeObserver((function(e){var i=e[0];t(i)}));return i.observe(e),{dispose:function(){i.unobserve(e),i.disconnect()}}}var D=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var o=0,r=i;o<r.length;o++){var s=r[o];e.classList.contains(s)&&e.classList.remove(s)}},k=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var o=0,r=i;o<r.length;o++){var s=r[o];e.classList.contains(s)||e.classList.add(s)}},S=function(e,t,i){var n=e.classList.contains(t);i&&!n&&e.classList.add(t),!i&&n&&e.classList.remove(t)};function z(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function E(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function P(e){return new x(e)}var x=function(e){function t(t){var i;(i=e.call(this)||this)._onDidFocus=new m,i.onDidFocus=i._onDidFocus.event,i._onDidBlur=new m,i.onDidBlur=i._onDidBlur.event;var n=z(document.activeElement,t),o=!1,r=function(){o=!1,n||(n=!0,i._onDidFocus.fire())},s=function(){n&&(o=!0,window.setTimeout((function(){o&&(o=!1,n=!1,i._onDidBlur.fire())}),0))};return i._refreshStateHandler=function(){z(document.activeElement,t)!==n&&(n?s():r())},t instanceof HTMLElement?(i.addDisposables(f(t,"focus",r,!0)),i.addDisposables(f(t,"blur",s,!0))):(i.addDisposables(v(t,"focus",r,!0)),i.addDisposables(v(t,"blur",s,!0))),i}(0,n.Z)(t,e);var i=t.prototype;return i.refreshState=function(){this._refreshStateHandler()},i.dispose=function(){e.prototype.dispose.call(this),this._onDidBlur.dispose(),this._onDidFocus.dispose()},t}(_),A=function(e,t,i){if(t>i)throw new Error(t+" > "+i+" is an invalid condition");return Math.min(i,Math.max(e,t))},O=function(){var e=1;return{next:function(){return(e++).toString()}}};function N(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}function I(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function V(e,t){var i=e.indexOf(t);i>-1&&(e.splice(i,1),e.unshift(t))}function T(e,t){var i=e.indexOf(t);i>-1&&(e.splice(i,1),e.push(t))}var L=function(e,t){var i=[];if("number"!=typeof t&&(t=e,e=0),e<=t)for(var n=e;n<t;n++)i.push(n);else for(var o=e;o>t;o--)i.push(o);return i};var R,G,H,M,F=function(){function e(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}var t=e.prototype;return t.setVisible=function(e,t){var i;e!==this.visible&&(e?(this.size=A(null!==(i=this._cachedVisibleSize)&&void 0!==i?i:0,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))},t.dispose=function(){return this.disposable.dispose(),this.view},p(e,[{key:"size",get:function(){return this._size},set:function(e){this._size=e}},{key:"cachedVisibleSize",get:function(){return this._cachedVisibleSize}},{key:"visible",get:function(){return void 0===this._cachedVisibleSize}},{key:"minimumSize",get:function(){return this.visible?this.view.minimumSize:0}},{key:"viewMinimumSize",get:function(){return this.view.minimumSize}},{key:"maximumSize",get:function(){return this.visible?this.view.maximumSize:0}},{key:"viewMaximumSize",get:function(){return this.view.maximumSize}},{key:"priority",get:function(){return this.view.priority}},{key:"snap",get:function(){return!!this.view.snap}},{key:"enabled",set:function(e){this.container.style.pointerEvents=e?"":"none"}}]),e}();!function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(R||(R={})),function(e){e[e.MAXIMUM=0]="MAXIMUM",e[e.MINIMUM=1]="MINIMUM",e[e.DISABLED=2]="DISABLED",e[e.ENABLED=3]="ENABLED"}(G||(G={})),function(e){e.Low="low",e.High="high",e.Normal="normal"}(H||(H={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(M||(M={}));var W,Z=function(){function e(e,t){var i=this;this.container=e,this.views=[],this.sashes=[],this._size=0,this._orthogonalSize=0,this.contentSize=0,this._proportions=void 0,this._onDidSashEnd=new m,this.onDidSashEnd=this._onDidSashEnd.event,this._onDidAddView=new m,this.onDidAddView=this._onDidAddView.event,this._onDidRemoveView=new m,this.onDidRemoveView=this._onDidRemoveView.event,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.resize=function(e,t,n,o,r,s,a,u,d){if(void 0===n&&(n=i.views.map((function(e){return e.size}))),void 0===s&&(s=Number.NEGATIVE_INFINITY),void 0===a&&(a=Number.POSITIVE_INFINITY),e<0||e>i.views.length)return 0;var h=L(e,-1),c=L(e+1,i.views.length);if(r)for(var p,m=(0,l.Z)(r);!(p=m()).done;){var v=p.value;V(h,v),V(c,v)}if(o)for(var f,g=(0,l.Z)(o);!(f=g()).done;){var w=f.value;T(h,w),T(c,w)}var y=h.map((function(e){return i.views[e]})),_=h.map((function(e){return n[e]})),b=c.map((function(e){return i.views[e]})),C=c.map((function(e){return n[e]})),D=h.reduce((function(e,t){return e+i.views[t].minimumSize-n[t]}),0),k=h.reduce((function(e,t){return e+i.views[t].maximumSize-n[t]}),0),S=0===c.length?Number.POSITIVE_INFINITY:c.reduce((function(e,t){return e+n[t]-i.views[t].minimumSize}),0),z=0===c.length?Number.NEGATIVE_INFINITY:c.reduce((function(e,t){return e+n[t]-i.views[t].maximumSize}),0),E=Math.max(D,z),P=Math.min(S,k),x=!1;if(u){var O=i.views[u.index],N=t>=u.limitDelta;x=N!==O.visible,O.setVisible(N,u.size)}if(!x&&d){var I=i.views[d.index],R=t<d.limitDelta;x=R!==I.visible,I.setVisible(R,d.size)}if(x)return i.resize(e,t,n,o,r,s,a);for(var G=0,H=A(t,E,P),M=0;M<y.length;M++){var F=y[M],W=A(_[M]+H,F.minimumSize,F.maximumSize),Z=W-_[M];G+=Z,H-=Z,F.size=W}for(var J=G,B=0;B<b.length;B++){var j=b[B],U=A(C[B]-J,j.minimumSize,j.maximumSize);J+=U-C[B],j.size=U}return t},this._orientation=t.orientation,this.element=this.createContainer(),this.proportionalLayout=void 0===t.proportionalLayout||!!t.proportionalLayout,this.viewContainer=this.createViewContainer(),this.sashContainer=this.createSashContainer(),this.element.appendChild(this.sashContainer),this.element.appendChild(this.viewContainer),this.container.appendChild(this.element),this.style(t.styles),t.descriptor&&(this._size=t.descriptor.size,t.descriptor.views.forEach((function(e,t){var n=void 0===e.visible||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},o=e.view;i.addView(o,n,t,!0)})),this.contentSize=this.views.reduce((function(e,t){return e+t.size}),0),this.saveProportions())}var t=e.prototype;return t.style=function(e){"transparent"===(null==e?void 0:e.separatorBorder)?(D(this.element,"separator-border"),this.element.style.removeProperty("--dv-separator-border")):(k(this.element,"separator-border"),(null==e?void 0:e.separatorBorder)&&this.element.style.setProperty("--dv-separator-border",e.separatorBorder))},t.isViewVisible=function(e){if(e<0||e>=this.views.length)throw new Error("Index out of bounds");return this.views[e].visible},t.setViewVisible=function(e,t){if(e<0||e>=this.views.length)throw new Error("Index out of bounds");S(this.container,"visible",t);var i=this.views[e];S(this.container,"visible",t),i.setVisible(t,i.size),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()},t.getViewSize=function(e){return e<0||e>=this.views.length?-1:this.views[e].size},t.resizeView=function(e,t){var i=this;if(!(e<0||e>=this.views.length)){var n=L(this.views.length).filter((function(t){return t!==e})),o=[].concat(n.filter((function(e){return i.views[e].priority===H.Low})),[e]),r=n.filter((function(e){return i.views[e].priority===H.High})),s=this.views[e];t=Math.round(t),t=A(t,s.minimumSize,Math.min(s.maximumSize,this._size)),s.size=t,this.relayout(o,r)}},t.getViews=function(){return this.views.map((function(e){return e.view}))},t.onDidChange=function(e,t){var i=this.views.indexOf(e);i<0||i>=this.views.length||(t="number"==typeof t?t:e.size,t=A(t,e.minimumSize,e.maximumSize),e.size=t,this.relayout([i]))},t.addView=function(e,t,i,n){var o=this;void 0===t&&(t={type:"distribute"}),void 0===i&&(i=this.views.length);var r,s=document.createElement("div");s.className="view",s.appendChild(e.element),r="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;var a=e.onDidChange((function(e){return o.onDidChange(u,e)})),u=new F(s,e,r,{dispose:function(){null==a||a.dispose(),o.viewContainer.removeChild(s)}});if(i===this.views.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(i)),this.views.splice(i,0,u),this.views.length>1){var d=document.createElement("div");d.className="sash";var h=function(e){for(var t,i=(0,l.Z)(o.views);!(t=i()).done;){t.value.enabled=!1}for(var n,r=[].concat(E("iframe"),E("webview")),s=(0,l.Z)(r);!(n=s()).done;){n.value.style.pointerEvents="none"}var a,u,h=o._orientation===R.HORIZONTAL?e.clientX:e.clientY,c=function(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return i;return-1}(o.sashes,(function(e){return e.container===d})),p=o.views.map((function(e){return e.size})),m=L(c,-1),v=L(c+1,o.views.length),f=m.reduce((function(e,t){return e+(o.views[t].minimumSize-p[t])}),0),g=m.reduce((function(e,t){return e+(o.views[t].viewMaximumSize-p[t])}),0),w=0===v.length?Number.POSITIVE_INFINITY:v.reduce((function(e,t){return e+(p[t]-o.views[t].minimumSize)}),0),y=0===v.length?Number.NEGATIVE_INFINITY:v.reduce((function(e,t){return e+(p[t]-o.views[t].viewMaximumSize)}),0),_=Math.max(f,y),b=Math.min(w,g),C=o.findFirstSnapIndex(m),D=o.findFirstSnapIndex(v);if("number"==typeof C){var k=o.views[C],S=Math.floor(k.viewMinimumSize/2);a={index:C,limitDelta:k.visible?_-S:_+S,size:k.size}}if("number"==typeof D){var z=o.views[D],P=Math.floor(z.viewMinimumSize/2);u={index:D,limitDelta:z.visible?b+P:b-P,size:z.size}}var x=function(e){var t=(o._orientation===R.HORIZONTAL?e.clientX:e.clientY)-h;o.resize(c,t,p,void 0,void 0,_,b,a,u),o.distributeEmptySpace(),o.layoutViews()},A=function e(){for(var t,i=(0,l.Z)(o.views);!(t=i()).done;){t.value.enabled=!0}for(var n,s=(0,l.Z)(r);!(n=s()).done;){n.value.style.pointerEvents="auto"}o.saveProportions(),document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",e),document.removeEventListener("mouseend",e),o._onDidSashEnd.fire(void 0)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",A),document.addEventListener("mouseend",A)};d.addEventListener("mousedown",h);var c={container:d,disposable:function(){d.removeEventListener("mousedown",h),o.sashContainer.removeChild(d)}};this.sashContainer.appendChild(d),this.sashes.push(c)}n||this.relayout([i]),n||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes(),this._onDidAddView.fire(e)},t.distributeViewSizes=function(){for(var e,t=this,i=[],n=0,o=(0,l.Z)(this.views);!(e=o()).done;){var r=e.value;r.maximumSize-r.minimumSize>0&&(i.push(r),n+=r.size)}for(var s=Math.floor(n/i.length),a=0,u=i;a<u.length;a++){var d=u[a];d.size=A(s,d.minimumSize,d.maximumSize)}var h=L(this.views.length),c=h.filter((function(e){return t.views[e].priority===H.Low})),p=h.filter((function(e){return t.views[e].priority===H.High}));this.relayout(c,p)},t.removeView=function(e,t,i){void 0===i&&(i=!1);var n=this.views.splice(e,1)[0];if(n.dispose(),this.views.length>=1){var o=Math.max(e-1,0);this.sashes.splice(o,1)[0].disposable()}return i||this.relayout(),t&&"distribute"===t.type&&this.distributeViewSizes(),this._onDidRemoveView.fire(n.view),n.view},t.getViewCachedVisibleSize=function(e){if(e<0||e>=this.views.length)throw new Error("Index out of bounds");return this.views[e].cachedVisibleSize},t.moveView=function(e,t){var i=this.getViewCachedVisibleSize(e),n=void 0===i?this.getViewSize(e):M.Invisible(i),o=this.removeView(e,void 0,!0);this.addView(o,n,t)},t.layout=function(e,t){var i=this,n=Math.max(this.size,this.contentSize);if(this.size=e,this.orthogonalSize=t,this.proportions)for(var o=0;o<this.views.length;o++){var r=this.views[o];r.size=A(Math.round(this.proportions[o]*e),r.minimumSize,r.maximumSize)}else{var s=L(this.views.length),a=s.filter((function(e){return i.views[e].priority===H.Low})),u=s.filter((function(e){return i.views[e].priority===H.High}));this.resize(this.views.length-1,e-n,void 0,a,u)}this.distributeEmptySpace(),this.layoutViews()},t.relayout=function(e,t){var i=this.views.reduce((function(e,t){return e+t.size}),0);this.resize(this.views.length-1,this._size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()},t.distributeEmptySpace=function(e){for(var t,i=this,n=this.views.reduce((function(e,t){return e+t.size}),0),o=this.size-n,r=L(this.views.length-1,-1),s=r.filter((function(e){return i.views[e].priority===H.Low})),a=r.filter((function(e){return i.views[e].priority===H.High})),u=(0,l.Z)(a);!(t=u()).done;){V(r,t.value)}for(var d,h=(0,l.Z)(s);!(d=h()).done;){T(r,d.value)}"number"==typeof e&&T(r,e);for(var c=0;0!==o&&c<r.length;c++){var p=this.views[r[c]],m=A(p.size+o,p.minimumSize,p.maximumSize);o-=m-p.size,p.size=m}},t.saveProportions=function(){var e=this;this.proportionalLayout&&this.contentSize>0&&(this._proportions=this.views.map((function(t){return t.size/e.contentSize})))},t.layoutViews=function(){var e=this;this.contentSize=this.views.reduce((function(e,t){return e+t.size}),0);var t=0,i=[];this.updateSashEnablement();for(var n=0;n<this.views.length-1;n++){t+=this.views[n].size,i.push(t);var o=Math.min(Math.max(0,t-2),this.size-4);this._orientation===R.HORIZONTAL&&(this.sashes[n].container.style.left=o+"px",this.sashes[n].container.style.top="0px"),this._orientation===R.VERTICAL&&(this.sashes[n].container.style.left="0px",this.sashes[n].container.style.top=o+"px")}this.views.forEach((function(t,n){e._orientation===R.HORIZONTAL&&(t.container.style.width=t.size+"px",t.container.style.left=0==n?"0px":i[n-1]+"px",t.container.style.top="",t.container.style.height=""),e._orientation===R.VERTICAL&&(t.container.style.height=t.size+"px",t.container.style.top=0==n?"0px":i[n-1]+"px",t.container.style.width="",t.container.style.left=""),t.view.layout(t.size,e._orthogonalSize)}))},t.findFirstSnapIndex=function(e){for(var t,i=(0,l.Z)(e);!(t=i()).done;){var n=t.value,o=this.views[n];if(o.visible&&o.snap)return n}for(var r,s=(0,l.Z)(e);!(r=s()).done;){var a=r.value,u=this.views[a];if(u.visible&&u.maximumSize-u.minimumSize>0)return;if(!u.visible&&u.snap)return a}},t.updateSashEnablement=function(){var e=!1,t=this.views.map((function(t){return e=t.size-t.minimumSize>0||e}));e=!1;var i=this.views.map((function(t){return e=t.maximumSize-t.size>0||e})),n=[].concat(this.views).reverse();e=!1;var o=n.map((function(t){return e=t.size-t.minimumSize>0||e})).reverse();e=!1;for(var r=n.map((function(t){return e=t.maximumSize-t.size>0||e})).reverse(),s=0,a=0;a<this.sashes.length;a++){var u=this.sashes[a];s+=this.views[a].size;var d=!(t[a]&&r[a+1]),h=!(i[a]&&o[a+1]);if(d&&h){var l=L(a,-1),c=L(a+1,this.views.length),p=this.findFirstSnapIndex(l),m=this.findFirstSnapIndex(c),v="number"==typeof p&&!this.views[p].visible,f="number"==typeof m&&!this.views[m].visible;v&&o[a]&&(s>0||this.startSnappingEnabled)?this.updateSash(u,G.MINIMUM):f&&t[a]&&(s<this.contentSize||this.endSnappingEnabled)?this.updateSash(u,G.MAXIMUM):this.updateSash(u,G.DISABLED)}else d&&!h?this.updateSash(u,G.MINIMUM):!d&&h?this.updateSash(u,G.MAXIMUM):this.updateSash(u,G.ENABLED)}},t.updateSash=function(e,t){S(e.container,"disabled",t===G.DISABLED),S(e.container,"enabled",t===G.ENABLED),S(e.container,"maximum",t===G.MAXIMUM),S(e.container,"minimum",t===G.MINIMUM)},t.createViewContainer=function(){var e=document.createElement("div");return e.className="view-container",e},t.createSashContainer=function(){var e=document.createElement("div");return e.className="sash-container",e},t.createContainer=function(){var e=document.createElement("div"),t=this._orientation===R.HORIZONTAL?"horizontal":"vertical";return e.className="split-view-container "+t,e},t.dispose=function(){this._onDidSashEnd.dispose(),this._onDidAddView.dispose(),this._onDidRemoveView.dispose();for(var e=0;e<this.element.children.length;e++)if(this.element.children.item(e)===this.element){this.element.removeChild(this.element);break}this.element.remove()},p(e,[{key:"size",get:function(){return this._size},set:function(e){this._size=e}},{key:"orthogonalSize",get:function(){return this._orthogonalSize},set:function(e){this._orthogonalSize=e}},{key:"length",get:function(){return this.views.length}},{key:"proportions",get:function(){return this._proportions?[].concat(this._proportions):void 0}},{key:"orientation",get:function(){return this._orientation},set:function(e){this._orientation=e;var t=this.size;this.size=this.orthogonalSize,this.orthogonalSize=t,D(this.element,"horizontal","vertical"),this.element.classList.add(this.orientation==R.HORIZONTAL?"horizontal":"vertical")}},{key:"minimumSize",get:function(){return this.views.reduce((function(e,t){return e+t.minimumSize}),0)}},{key:"maximumSize",get:function(){return 0===this.length?Number.POSITIVE_INFINITY:this.views.reduce((function(e,t){return e+t.maximumSize}),0)}},{key:"startSnappingEnabled",get:function(){return this._startSnappingEnabled},set:function(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}},{key:"endSnappingEnabled",get:function(){return this._endSnappingEnabled},set:function(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}}]),e}(),J=function(e){function t(t,i){var n,o;return(n=e.call(this)||this).paneItems=[],n.skipAnimation=!1,n._onDidChange=new m,n.onDidChange=n._onDidChange.event,n._orientation=null!==(o=i.orientation)&&void 0!==o?o:R.VERTICAL,n.element=document.createElement("div"),n.element.className="pane-container",t.appendChild(n.element),n.splitview=new Z(n.element,{orientation:n._orientation,proportionalLayout:!1,descriptor:i.descriptor}),n.getPanes().forEach((function(e){var t=new _(e.onDidChangeExpansionState((function(){n.setupAnimation(),n._onDidChange.fire(void 0)}))),i={pane:e,disposable:{dispose:function(){t.dispose()}}};n.paneItems.push(i),e.orthogonalSize=n.splitview.orthogonalSize})),n.addDisposables(n._onDidChange,n.splitview.onDidSashEnd((function(){n._onDidChange.fire(void 0)})),n.splitview.onDidAddView((function(){n._onDidChange.fire()})),n.splitview.onDidRemoveView((function(){n._onDidChange.fire()}))),n}(0,n.Z)(t,e);var i=t.prototype;return i.addPane=function(e,t,i,n){var o=this;void 0===i&&(i=this.splitview.length),void 0===n&&(n=!1);var r=e.onDidChangeExpansionState((function(){o.setupAnimation(),o._onDidChange.fire(void 0)})),s={pane:e,disposable:{dispose:function(){r.dispose()}}};this.paneItems.splice(i,0,s),e.orthogonalSize=this.splitview.orthogonalSize,this.splitview.addView(e,t,i,n)},i.getViewSize=function(e){return this.splitview.getViewSize(e)},i.getPanes=function(){return this.splitview.getViews()},i.removePane=function(e,t){void 0===t&&(t={skipDispose:!1});var i=this.paneItems.splice(e,1)[0];return this.splitview.removeView(e),t.skipDispose||(i.disposable.dispose(),i.pane.dispose()),i},i.moveView=function(e,t){if(e!==t){var i=this.removePane(e,{skipDispose:!0});this.skipAnimation=!0;try{this.addPane(i.pane,i.pane.size,t,!1)}finally{this.skipAnimation=!1}}},i.layout=function(e,t){this.splitview.layout(e,t)},i.setupAnimation=function(){var e=this;this.skipAnimation||(this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=void 0),k(this.element,"animated"),this.animationTimer=setTimeout((function(){e.animationTimer=void 0,D(e.element,"animated")}),200))},i.dispose=function(){e.prototype.dispose.call(this),this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=void 0),this.paneItems.forEach((function(e){e.disposable.dispose(),e.pane.dispose()})),this.paneItems=[],this.splitview.dispose(),this.element.remove()},p(t,[{key:"onDidAddView",get:function(){return this.splitview.onDidAddView}},{key:"onDidRemoveView",get:function(){return this.splitview.onDidRemoveView}},{key:"minimumSize",get:function(){return this.splitview.minimumSize}},{key:"maximumSize",get:function(){return this.splitview.maximumSize}},{key:"orientation",get:function(){return this.splitview.orientation}},{key:"size",get:function(){return this.splitview.size}},{key:"orthogonalSize",get:function(){return this.splitview.orthogonalSize}}]),t}(_),B=function(e){function t(t,i){var n;return(n=e.call(this)||this).element=t,n.callbacks=i,n.counter=0,n.registerListeners(),n}return(0,n.Z)(t,e),t.prototype.registerListeners=function(){var e=this;this.addDisposables(f(this.element,"dragenter",(function(t){e.counter++,e.callbacks.onDragEnter(t)}))),this.addDisposables(f(this.element,"dragover",(function(t){t.preventDefault(),e.callbacks.onDragOver&&e.callbacks.onDragOver(t)}))),this.addDisposables(f(this.element,"dragleave",(function(t){e.counter--,0===e.counter&&e.callbacks.onDragLeave(t)}))),this.addDisposables(f(this.element,"dragend",(function(t){e.counter=0,e.callbacks.onDragEnd(t)}))),this.addDisposables(f(this.element,"drop",(function(t){e.counter=0,e.callbacks.onDrop(t)})))},t}(_);!function(e){e.Top="Top",e.Left="Left",e.Bottom="Bottom",e.Right="Right",e.Center="Center"}(W||(W={}));var j=function(e){function t(t,i){var n;return(n=e.call(this)||this).element=t,n.options=i,n._onDrop=new m,n.onDrop=n._onDrop.event,n.addDisposables(n._onDrop,new B(n.element,{onDragEnter:function(){},onDragOver:function(e){var t=n.element.clientWidth,i=n.element.clientHeight;if(0!==t&&0!==i){var o=100*e.offsetX/t,r=100*e.offsetY/i,s=n.calculateQuadrant(n.options.validOverlays,o,r);if("boolean"==typeof n.options.canDisplayOverlay){if(!n.options.canDisplayOverlay)return}else if(!n.options.canDisplayOverlay(e,s))return;if(n.target||(n.target=document.createElement("div"),n.target.className="drop-target-dropzone",n.overlay=document.createElement("div"),n.overlay.className="drop-target-selection",n._state=W.Center,n.target.appendChild(n.overlay),n.element.classList.add("drop-target"),n.element.append(n.target)),"none"!==n.options.validOverlays&&n.target&&n.overlay){var a=t<100,u=i<100;n.toggleClasses(s,a,u),n.setState(s)}}},onDragLeave:function(){n.removeDropTarget()},onDragEnd:function(){n.removeDropTarget()},onDrop:function(e){e.preventDefault(),e.stopPropagation();var t=n._state;n.removeDropTarget(),t&&n._onDrop.fire({position:t,nativeEvent:e})}})),n}(0,n.Z)(t,e);var i=t.prototype;return i.dispose=function(){this.removeDropTarget()},i.toggleClasses=function(e,t,i){if(this.overlay){var n="left"===e,o="right"===e,r="top"===e,s="bottom"===e;S(this.overlay,"right",!t&&o),S(this.overlay,"left",!t&&n),S(this.overlay,"top",!i&&r),S(this.overlay,"bottom",!i&&s),S(this.overlay,"small-right",t&&o),S(this.overlay,"small-left",t&&n),S(this.overlay,"small-top",i&&r),S(this.overlay,"small-bottom",i&&s)}},i.setState=function(e){switch(e){case"top":this._state=W.Top;break;case"left":this._state=W.Left;break;case"bottom":this._state=W.Bottom;break;case"right":this._state=W.Right;break;default:this._state=W.Center}},i.calculateQuadrant=function(e,t,i){switch(e){case"all":if(t<20)return"left";if(t>80)return"right";if(i<20)return"top";if(i>80)return"bottom";break;case"vertical":return i<50?"top":"bottom";case"horizontal":return t<50?"left":"right"}return null},i.removeDropTarget=function(){this.target&&(this._state=void 0,this.element.removeChild(this.target),this.target=void 0,this.element.classList.remove("drop-target"))},p(t,[{key:"state",get:function(){return this._state}},{key:"validOverlays",set:function(e){this.options.validOverlays=e}},{key:"canDisplayOverlay",set:function(e){this.options.canDisplayOverlay=e}}]),t}(_),U=function(){function e(e,t,i,n){var o=this;void 0===n&&(n=0),this.view=e,this.orientation=t,this._onDidChange=new m,this.onDidChange=this._onDidChange.event,this._orthogonalSize=i,this._size=n,this._disposable=this.view.onDidChange((function(e){e?o._onDidChange.fire(o.orientation===R.VERTICAL?e.width:e.height):o._onDidChange.fire(void 0)}))}var t=e.prototype;return t.setVisible=function(e){this.view.setVisible&&(this.view.setVisible(e),this._onDidChange.fire(void 0))},t.layout=function(e,t){this._size=e,this._orthogonalSize=t,this.view.layout(this.width,this.height)},t.dispose=function(){this._onDidChange.dispose(),this._disposable.dispose()},p(e,[{key:"minimumWidth",get:function(){return this.view.minimumWidth}},{key:"maximumWidth",get:function(){return this.view.maximumWidth}},{key:"minimumHeight",get:function(){return this.view.minimumHeight}},{key:"maximumHeight",get:function(){return this.view.maximumHeight}},{key:"priority",get:function(){return this.view.priority}},{key:"snap",get:function(){return this.view.snap}},{key:"minimumSize",get:function(){return this.orientation===R.HORIZONTAL?this.minimumHeight:this.minimumWidth}},{key:"maximumSize",get:function(){return this.orientation===R.HORIZONTAL?this.maximumHeight:this.maximumWidth}},{key:"minimumOrthogonalSize",get:function(){return this.orientation===R.HORIZONTAL?this.minimumWidth:this.minimumHeight}},{key:"maximumOrthogonalSize",get:function(){return this.orientation===R.HORIZONTAL?this.maximumWidth:this.maximumHeight}},{key:"orthogonalSize",get:function(){return this._orthogonalSize}},{key:"size",get:function(){return this._size}},{key:"element",get:function(){return this.view.element}},{key:"width",get:function(){return this.orientation===R.HORIZONTAL?this.orthogonalSize:this.size}},{key:"height",get:function(){return this.orientation===R.HORIZONTAL?this.size:this.orthogonalSize}}]),e}(),X=function(e){function t(t,i,n,o,r,s){var a;if((a=e.call(this)||this).orientation=t,a.proportionalLayout=i,a.styles=n,a.children=[],a._onDidChange=new m,a.onDidChange=a._onDidChange.event,a._childrenDisposable=g.NONE,a._orthogonalSize=r,a._size=o,a.element=document.createElement("div"),a.element.className="branch-node",s){var u={views:s.map((function(e){return{view:e.node,size:e.node.size,visible:!(e.node instanceof U&&void 0!==e.visible)||e.visible}})),size:a.size};a.children=s.map((function(e){return e.node})),a.splitview=new Z(a.element,{orientation:a.orientation,descriptor:u,proportionalLayout:i})}else a.splitview=new Z(a.element,{orientation:a.orientation,proportionalLayout:i,styles:n}),a.splitview.layout(a.size,a.orthogonalSize);return a.addDisposables(a._onDidChange,a.splitview.onDidSashEnd((function(){a._onDidChange.fire(void 0)}))),a.setupChildrenEvents(),a}(0,n.Z)(t,e);var i=t.prototype;return i.setVisible=function(e){for(var t,i=(0,l.Z)(this.children);!(t=i()).done;){t.value.setVisible(e)}},i.isChildVisible=function(e){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.isViewVisible(e)},i.setChildVisible=function(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");this.splitview.isViewVisible(e)!==t&&this.splitview.setViewVisible(e,t)},i.moveChild=function(e,t){if(e!==t){if(e<0||e>=this.children.length)throw new Error("Invalid from index");e<t&&t--,this.splitview.moveView(e,t);var i=this._removeChild(e);this._addChild(i,t)}},i.getChildSize=function(e){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewSize(e)},i.resizeChild=function(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");this.splitview.resizeView(e,t)},i.layout=function(e,t){this._size=t,this._orthogonalSize=e,this.splitview.layout(this.size,this.orthogonalSize)},i.addChild=function(e,t,i,n){if(i<0||i>this.children.length)throw new Error("Invalid index");this.splitview.addView(e,t,i,n),this._addChild(e,i)},i.getChildCachedVisibleSize=function(e){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewCachedVisibleSize(e)},i.removeChild=function(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");this.splitview.removeView(e,t),this._removeChild(e)},i._addChild=function(e,t){this.children.splice(t,0,e),this.setupChildrenEvents()},i._removeChild=function(e){var t=this.children.splice(e,1)[0];return this.setupChildrenEvents(),t},i.setupChildrenEvents=function(){var e=this;this._childrenDisposable.dispose(),this._childrenDisposable=h.any.apply(h,this.children.map((function(e){return e.onDidChange})))((function(){e._onDidChange.fire(void 0)}))},i.dispose=function(){e.prototype.dispose.call(this),this._childrenDisposable.dispose(),this.children.forEach((function(e){return e.dispose()})),this.splitview.dispose()},p(t,[{key:"width",get:function(){return this.orientation===R.HORIZONTAL?this.size:this.orthogonalSize}},{key:"height",get:function(){return this.orientation===R.HORIZONTAL?this.orthogonalSize:this.size}},{key:"minimumSize",get:function(){return 0===this.children.length?0:Math.max.apply(Math,this.children.map((function(e){return e.minimumOrthogonalSize})))}},{key:"maximumSize",get:function(){return Math.min.apply(Math,this.children.map((function(e){return e.maximumOrthogonalSize})))}},{key:"minimumOrthogonalSize",get:function(){return this.splitview.minimumSize}},{key:"maximumOrthogonalSize",get:function(){return this.splitview.maximumSize}},{key:"orthogonalSize",get:function(){return this._orthogonalSize}},{key:"size",get:function(){return this._size}},{key:"minimumWidth",get:function(){return this.orientation===R.HORIZONTAL?this.minimumOrthogonalSize:this.minimumSize}},{key:"minimumHeight",get:function(){return this.orientation===R.HORIZONTAL?this.minimumSize:this.minimumOrthogonalSize}},{key:"maximumWidth",get:function(){return this.orientation===R.HORIZONTAL?this.maximumOrthogonalSize:this.maximumSize}},{key:"maximumHeight",get:function(){return this.orientation===R.HORIZONTAL?this.maximumSize:this.maximumOrthogonalSize}},{key:"priority",get:function(){if(0===this.children.length)return H.Normal;var e=this.children.map((function(e){return void 0===e.priority?H.Normal:e.priority}));return e.some((function(e){return e===H.High}))?H.High:e.some((function(e){return e===H.Low}))?H.Low:H.Normal}}]),t}(_);function Y(e,t){if(e instanceof U)return e;if(e instanceof X)return Y(e.children[t?e.children.length-1:0],t);throw new Error("invalid node")}function K(e,t,i){if(e instanceof X){for(var n=new X($(e.orientation),e.proportionalLayout,e.styles,t,i),o=0,r=e.children.length-1;r>=0;r--){var s=e.children[r],a=s instanceof X?s.orthogonalSize:s.size,u=0===e.size?0:Math.round(t*a/e.size);o+=u,0===r&&(u+=t-o),n.addChild(K(s,i,u),u,0,!0)}return n}return new U(e.view,$(e.orientation),i)}function Q(e){var t=e.parentElement;if(!t)throw new Error("Invalid grid element");if(/\bgrid-view\b/.test(t.className))return[];var i=function(e){var t=e.parentElement;if(!t)throw new Error("Invalid grid element");for(var i=t.firstElementChild,n=0;i!==e&&i!==t.lastElementChild&&i;)i=i.nextElementSibling,n++;return n}(t),n=t.parentElement.parentElement.parentElement;return[].concat(Q(n),[i])}function q(e,t,i){var n=function(e,t){return t.length%2==0?$(e):e}(e,t),o=function(e){return e===W.Top||e===W.Bottom?R.VERTICAL:R.HORIZONTAL}(i);if(n===o){var r=N(t),s=r[0],a=r[1];return i!==W.Right&&i!==W.Bottom||(a+=1),[].concat(s,[a])}var u=i===W.Right||i===W.Bottom?1:0;return[].concat(t,[u])}var $=function(e){return e===R.HORIZONTAL?R.VERTICAL:R.HORIZONTAL};var ee,te=function e(t,i){var n=i===R.VERTICAL?t.box.width:t.box.height;return function(e){return!!e.children}(t)?{type:"branch",data:t.children.map((function(t){return e(t,$(i))})),size:n}:"number"==typeof t.cachedVisibleSize?{type:"leaf",data:t.view.toJSON(),size:t.cachedVisibleSize,visible:!1}:{type:"leaf",data:t.view.toJSON(),size:n}},ie=function(){function e(e,t,i){this.proportionalLayout=e,this.styles=t,this.disposable=new b,this._onDidChange=new m,this.onDidChange=this._onDidChange.event,this.element=document.createElement("div"),this.element.className="grid-view",this.root=new X(i,e,t,0,0)}var t=e.prototype;return t.serialize=function(){return{root:te(this.getView(),this.orientation),width:this.width,height:this.height,orientation:this.orientation}},t.dispose=function(){this.disposable.dispose(),this._onDidChange.dispose(),this.root.dispose(),this.element.remove()},t.clear=function(){var e=this.root.orientation;this.root=new X(e,this.proportionalLayout,this.styles,this.root.size,this.root.orthogonalSize)},t.deserialize=function(e,t){var i=e.orientation,n=i===R.VERTICAL?e.height:e.width;this._deserialize(e.root,i,t,n)},t._deserialize=function(e,t,i,n){this.root=this._deserializeNode(e,t,i,n,!0)},t._deserializeNode=function(e,t,i,n,o){var r,s=this;if(void 0===o&&(o=!1),"branch"===e.type){var a=e.data.map((function(n){return{node:s._deserializeNode(n,$(t),i,e.size),visible:n.visible}}));r=new X(t,this.proportionalLayout,this.styles,o?n:e.size,o?e.size:n,a)}else r=new U(i.fromJSON(e),t,n,e.size);return r},t.next=function(e){return this.progmaticSelect(e)},t.previous=function(e){return this.progmaticSelect(e,!0)},t.getView=function(e){var t=e?this.getNode(e)[1]:this.root;return this._getViews(t,this.orientation)},t._getViews=function(e,t,i){var n={height:e.height,width:e.width};if(e instanceof U)return{box:n,view:e.view,cachedVisibleSize:i};for(var o=[],r=0;r<e.children.length;r++){var s=e.children[r],a=e.getChildCachedVisibleSize(r);o.push(this._getViews(s,$(t),a))}return{box:n,children:o}},t.progmaticSelect=function(e,t){void 0===t&&(t=!1);var i=this.getNode(e),n=i[0];if(!(i[1]instanceof U))throw new Error("invalid location");for(var o=n.length-1;o>-1;o--){var r=n[o],s=e[o]||0;if(t?s-1>-1:s+1<r.children.length)return Y(r.children[t?s-1:s+1],t)}return Y(this.root,t)},t.isViewVisible=function(e){var t=N(e),i=t[0],n=t[1],o=this.getNode(i)[1];if(!(o instanceof X))throw new Error("Invalid from location");return o.isChildVisible(n)},t.setViewVisible=function(e,t){var i=N(e),n=i[0],o=i[1],r=this.getNode(n)[1];if(!(r instanceof X))throw new Error("Invalid from location");r.setChildVisible(o,t)},t.moveView=function(e,t,i){var n=this.getNode(e)[1];if(!(n instanceof X))throw new Error("Invalid location");n.moveChild(t,i)},t.addView=function(e,t,i){var n=N(i),o=n[0],r=n[1],s=this.getNode(o),a=s[0],u=s[1];if(u instanceof X){var d=new U(e,$(u.orientation),u.orthogonalSize);u.addChild(d,t,r)}else{var h=[].concat(a).reverse(),l=h[0],c=(h.slice(1),[].concat(o).reverse()),p=c[0],m=(c.slice(1),0),v=l.getChildCachedVisibleSize(p);"number"==typeof v&&(m=M.Invisible(v)),l.removeChild(p);var f=new X(u.orientation,this.proportionalLayout,this.styles,u.size,u.orthogonalSize);l.addChild(f,u.size,p);var g=new U(u.view,l.orientation,u.size);f.addChild(g,m,0),"number"!=typeof t&&"split"===t.type&&(t={type:"split",index:0});var w=new U(e,l.orientation,u.size);f.addChild(w,t,r)}},t.remove=function(e,t){var i=Q(e.element);return this.removeView(i,t)},t.removeView=function(e,t){var i=N(e),n=i[0],o=i[1],r=this.getNode(n),s=r[0],a=r[1];if(!(a instanceof X))throw new Error("Invalid location");var u=a.children[o];if(!(u instanceof U))throw new Error("Invalid location");if(a.removeChild(o,t),0===a.children.length)return u.view;if(a.children.length>1)return u.view;var d=a.children[0];if(0===s.length)return d instanceof U||(a.removeChild(0,t),this.root=d),u.view;var h=[].concat(s).reverse(),l=h[0],c=(h.slice(1),[].concat(n).reverse()),p=c[0],m=(c.slice(1),a.isChildVisible(0));a.removeChild(0,t);var v=l.children.map((function(e,t){return l.getChildSize(t)}));if(l.removeChild(p,t),d instanceof X){v.splice.apply(v,[p,1].concat(d.children.map((function(e){return e.size}))));for(var f=0;f<d.children.length;f++){var g=d.children[f];l.addChild(g,g.size,p+f)}}else{var w=new U(d.view,$(d.orientation),d.size),y=m?d.orthogonalSize:M.Invisible(d.orthogonalSize);l.addChild(w,y,p)}for(var _=0;_<v.length;_++)l.resizeChild(_,v[_]);return u.view},t.layout=function(e,t){var i=this.root.orientation===R.HORIZONTAL?[t,e]:[e,t],n=i[0],o=i[1];this.root.layout(n,o)},t.getNode=function(e,t,i){if(void 0===t&&(t=this.root),void 0===i&&(i=[]),0===e.length)return[i,t];if(!(t instanceof X))throw new Error("Invalid location");var n=e[0],o=e.slice(1);if(n<0||n>=t.children.length)throw new Error("Invalid location");var r=t.children[n];return i.push(t),this.getNode(o,r,i)},p(e,[{key:"orientation",get:function(){return this.root.orientation},set:function(e){if(this.root.orientation!==e){var t=this.root,i=t.size,n=t.orthogonalSize;this.root=K(this.root,n,i),this.root.layout(i,n)}}},{key:"root",get:function(){return this._root},set:function(e){var t=this,i=this._root;i&&(i.dispose(),this.element.removeChild(i.element)),this._root=e,this.element.appendChild(this._root.element),this.disposable.value=this._root.onDidChange((function(e){t._onDidChange.fire(e)}))}},{key:"width",get:function(){return this.root.width}},{key:"height",get:function(){return this.root.height}},{key:"minimumWidth",get:function(){return this.root.minimumWidth}},{key:"minimumHeight",get:function(){return this.root.minimumHeight}},{key:"maximumWidth",get:function(){return this.root.maximumHeight}},{key:"maximumHeight",get:function(){return this.root.maximumHeight}}]),e}(),ne=function(){function e(e){this.component=e}var t=e.prototype;return t.updateOptions=function(e){this.component.updateOptions(e)},t.removePanel=function(e,t){this.component.removePanel(e,t)},t.focus=function(){this.component.focus()},t.getPanel=function(e){return this.component.getPanel(e)},t.layout=function(e,t){return this.component.layout(e,t)},t.addPanel=function(e){return this.component.addPanel(e)},t.movePanel=function(e,t){this.component.movePanel(e,t)},t.fromJSON=function(e){this.component.fromJSON(e)},t.toJSON=function(){return this.component.toJSON()},t.clear=function(){this.component.clear()},p(e,[{key:"minimumSize",get:function(){return this.component.minimumSize}},{key:"maximumSize",get:function(){return this.component.maximumSize}},{key:"height",get:function(){return this.component.height}},{key:"width",get:function(){return this.component.width}},{key:"length",get:function(){return this.component.length}},{key:"orientation",get:function(){return this.component.orientation}},{key:"panels",get:function(){return this.component.panels}},{key:"onDidLayoutFromJSON",get:function(){return this.component.onDidLayoutFromJSON}},{key:"onDidLayoutChange",get:function(){return this.component.onDidLayoutChange}},{key:"onDidAddView",get:function(){return this.component.onDidAddView}},{key:"onDidRemoveView",get:function(){return this.component.onDidRemoveView}}]),e}(),oe=function(){function e(e){this.component=e}var t=e.prototype;return t.removePanel=function(e){this.component.removePanel(e)},t.getPanel=function(e){return this.component.getPanel(e)},t.movePanel=function(e,t){this.component.movePanel(e,t)},t.focus=function(){this.component.focus()},t.layout=function(e,t){this.component.layout(e,t)},t.addPanel=function(e){return this.component.addPanel(e)},t.fromJSON=function(e){this.component.fromJSON(e)},t.toJSON=function(){return this.component.toJSON()},t.clear=function(){this.component.clear()},p(e,[{key:"minimumSize",get:function(){return this.component.minimumSize}},{key:"maximumSize",get:function(){return this.component.maximumSize}},{key:"height",get:function(){return this.component.height}},{key:"width",get:function(){return this.component.width}},{key:"panels",get:function(){return this.component.panels}},{key:"onDidLayoutChange",get:function(){return this.component.onDidLayoutChange}},{key:"onDidLayoutFromJSON",get:function(){return this.component.onDidLayoutFromJSON}},{key:"onDidAddView",get:function(){return this.component.onDidAddView}},{key:"onDidRemoveView",get:function(){return this.component.onDidRemoveView}},{key:"onDidDrop",get:function(){var e=this,t=new m,i=this.component.onDidDrop((function(i){t.fire(Object.assign(Object.assign({},i),{api:e}))}));return t.dispose=function(){i.dispose(),t.dispose()},t.event}}]),e}(),re=function(){function e(e){this.component=e}var t=e.prototype;return t.focus=function(){this.component.focus()},t.layout=function(e,t,i){void 0===i&&(i=!1),this.component.layout(e,t,i)},t.addPanel=function(e){return this.component.addPanel(e)},t.removePanel=function(e,t){this.component.removePanel(e,t)},t.movePanel=function(e,t){this.component.movePanel(e,t)},t.getPanel=function(e){return this.component.getPanel(e)},t.fromJSON=function(e){return this.component.fromJSON(e)},t.toJSON=function(){return this.component.toJSON()},t.clear=function(){this.component.clear()},p(e,[{key:"minimumHeight",get:function(){return this.component.minimumHeight}},{key:"maximumHeight",get:function(){return this.component.maximumHeight}},{key:"minimumWidth",get:function(){return this.component.minimumWidth}},{key:"maximumWidth",get:function(){return this.component.maximumWidth}},{key:"width",get:function(){return this.component.width}},{key:"height",get:function(){return this.component.height}},{key:"onDidLayoutChange",get:function(){return this.component.onDidLayoutChange}},{key:"onDidAddPanel",get:function(){return this.component.onDidAddGroup}},{key:"onDidRemovePanel",get:function(){return this.component.onDidRemoveGroup}},{key:"onDidActivePanelChange",get:function(){return this.component.onDidActiveGroupChange}},{key:"onDidLayoutFromJSON",get:function(){return this.component.onDidLayoutFromJSON}},{key:"panels",get:function(){return this.component.groups}},{key:"orientation",get:function(){return this.component.orientation},set:function(e){this.component.updateOptions({orientation:e})}}]),e}(),se=function(){function e(e){this.component=e}var t=e.prototype;return t.getTabHeight=function(){return this.component.tabHeight},t.setTabHeight=function(e){this.component.tabHeight=e},t.focus=function(){this.component.focus()},t.getPanel=function(e){return this.component.getGroupPanel(e)},t.layout=function(e,t,i){void 0===i&&(i=!1),this.component.layout(e,t,i)},t.addPanel=function(e){return this.component.addPanel(e)},t.addEmptyGroup=function(e){this.component.addEmptyGroup(e)},t.moveToNext=function(e){this.component.moveToNext(e)},t.moveToPrevious=function(e){this.component.moveToPrevious(e)},t.closeAllGroups=function(){return this.component.closeAllGroups()},t.removeGroup=function(e){this.component.removeGroup(e)},t.getGroup=function(e){return this.component.getPanel(e)},t.fromJSON=function(e){this.component.fromJSON(e)},t.toJSON=function(){return this.component.toJSON()},t.clear=function(){this.component.clear()},p(e,[{key:"width",get:function(){return this.component.width}},{key:"height",get:function(){return this.component.height}},{key:"minimumHeight",get:function(){return this.component.minimumHeight}},{key:"maximumHeight",get:function(){return this.component.maximumHeight}},{key:"minimumWidth",get:function(){return this.component.minimumWidth}},{key:"maximumWidth",get:function(){return this.component.maximumWidth}},{key:"size",get:function(){return this.component.size}},{key:"totalPanels",get:function(){return this.component.totalPanels}},{key:"onDidActiveGroupChange",get:function(){return this.component.onDidActiveGroupChange}},{key:"onDidAddGroup",get:function(){return this.component.onDidAddGroup}},{key:"onDidRemoveGroup",get:function(){return this.component.onDidRemoveGroup}},{key:"onDidActivePanelChange",get:function(){return this.component.onDidActivePanelChange}},{key:"onDidAddPanel",get:function(){return this.component.onDidAddPanel}},{key:"onDidRemovePanel",get:function(){return this.component.onDidRemovePanel}},{key:"onDidLayoutFromJSON",get:function(){return this.component.onDidLayoutFromJSON}},{key:"onDidLayoutChange",get:function(){return this.component.onDidLayoutChange}},{key:"onDidDrop",get:function(){return this.component.onDidDrop}},{key:"panels",get:function(){return this.component.panels}},{key:"groups",get:function(){return this.component.groups}},{key:"activePanel",get:function(){return this.component.activePanel}},{key:"activeGroup",get:function(){return this.component.activeGroup}}]),e}(),ae=function(e){function t(){var t;return(t=e.call(this)||this).disposable=new b,t._onDidFocus=new m,t.onDidFocus=t._onDidFocus.event,t._onDidBlur=new m,t.onDidBlur=t._onDidBlur.event,t._element=document.createElement("div"),t._element.className="content-container",t._element.tabIndex=-1,t.addDisposables(t._onDidFocus,t._onDidBlur),t}(0,n.Z)(t,e);var i=t.prototype;return i.show=function(){this.element.style.display=""},i.hide=function(){this.element.style.display="none"},i.openPanel=function(e){var t,i=this;if(this.panel!==e){this.panel&&((null===(t=this.panel.view)||void 0===t?void 0:t.content)&&this._element.removeChild(this.panel.view.content.element),this.panel=void 0),this.panel=e;var n=new _;if(this.panel.view){var o=this.panel.view.content.onDidFocus,r=this.panel.view.content.onDidBlur,s=P(this._element),a=s.onDidFocus,u=s.onDidBlur;n.addDisposables(a((function(){return i._onDidFocus.fire()})),u((function(){return i._onDidBlur.fire()}))),o&&n.addDisposables(o((function(){return i._onDidFocus.fire()}))),r&&n.addDisposables(r((function(){return i._onDidBlur.fire()}))),this._element.appendChild(this.panel.view.content.element)}this.disposable.value=n}},i.layout=function(e,t){},i.closePanel=function(){var e,t,i;(null===(i=null===(t=null===(e=this.panel)||void 0===e?void 0:e.view)||void 0===t?void 0:t.content)||void 0===i?void 0:i.element)&&(this._element.removeChild(this.panel.view.content.element),this.panel=void 0)},i.dispose=function(){this.disposable.dispose(),e.prototype.dispose.call(this)},p(t,[{key:"element",get:function(){return this._element}}]),t}(_);!function(e){e[e.Tab=0]="Tab",e[e.Panel=1]="Panel",e[e.TabContainer=2]="TabContainer"}(ee||(ee={}));var ue,de=function(e){function t(t){var i;return(i=e.call(this)||this).el=t,i.disposable=new b,i._onDragStart=new m,i.onDragStart=i._onDragStart.event,i.iframes=[],i.configure(),i}return(0,n.Z)(t,e),t.prototype.configure=function(){var e=this;this.addDisposables(this._onDragStart,f(this.el,"dragstart",(function(t){e.iframes=[].concat(E("iframe"),E("webview"));for(var i,n=(0,l.Z)(e.iframes);!(i=n()).done;){i.value.style.pointerEvents="none"}e.el.classList.add("dragged"),setTimeout((function(){return e.el.classList.remove("dragged")}),0),e.disposable.value=e.getData(),t.dataTransfer&&(t.dataTransfer.effectAllowed="move")})),f(this.el,"dragend",(function(){for(var t,i=(0,l.Z)(e.iframes);!(t=i()).done;){t.value.style.pointerEvents="auto"}e.iframes=[],e.disposable.dispose()})))},t}(_);!function(e){e.CLICK="CLICK",e.CONTEXT_MENU="CONTEXT_MENU"}(ue||(ue={}));var he,le=function(e){function t(t,i,o){var s;return(s=e.call(this)||this).panelId=t,s.group=o,s._onChanged=new m,s.onChanged=s._onChanged.event,s._onDropped=new m,s.onDrop=s._onDropped.event,s.addDisposables(s._onChanged,s._onDropped),s._element=document.createElement("div"),s._element.className="tab",s._element.tabIndex=0,s._element.draggable=!0,S(s.element,"inactive-tab",!0),s.addDisposables(new(function(e){function s(){var t;return(t=e.apply(this,arguments)||this).panelTransfer=a.getInstance(),t}(0,n.Z)(s,e);var u=s.prototype;return u.getData=function(){var e=this;return this.panelTransfer.setData([new r(i.id,o.id,t)],r.prototype),{dispose:function(){e.panelTransfer.clearData(r.prototype)}}},u.dispose=function(){},s}(de))(s._element)),s.addDisposables(f(s._element,"mousedown",(function(e){e.defaultPrevented||(e.stopPropagation(),s._onChanged.fire({kind:ue.CLICK,event:e}))})),f(s._element,"contextmenu",(function(e){s._onChanged.fire({kind:ue.CONTEXT_MENU,event:e})}))),s.droptarget=new j(s._element,{validOverlays:"none",canDisplayOverlay:function(e){var t=u();return t?s.panelId!==t.panelId:s.group.model.canDisplayOverlay(e,ee.Tab)}}),s.addDisposables(s.droptarget.onDrop((function(e){s._onDropped.fire(e)}))),s}(0,n.Z)(t,e);var i=t.prototype;return i.setActive=function(e){S(this.element,"active-tab",e),S(this.element,"inactive-tab",!e)},i.setContent=function(e){this.content&&this._element.removeChild(this.content.element),this.content=e,this._element.appendChild(this.content.element)},i.dispose=function(){e.prototype.dispose.call(this),this.droptarget.dispose()},p(t,[{key:"element",get:function(){return this._element}}]),t}(_),ce=function(e){function t(t,i,n){var o;return(o=e.call(this)||this).accessor=t,o.group=i,o.tabs=[],o.selectedIndex=-1,o._hidden=!1,o._onDrop=new m,o.onDrop=o._onDrop.event,o.addDisposables(o._onDrop),o._element=document.createElement("div"),o._element.className="tabs-and-actions-container",o.height=n.tabHeight,o.actionContainer=document.createElement("div"),o.actionContainer.className="action-container",o.tabContainer=document.createElement("div"),o.tabContainer.className="tabs-container",o.voidContainer=document.createElement("div"),o.voidContainer.className="void-container",o._element.appendChild(o.tabContainer),o._element.appendChild(o.voidContainer),o._element.appendChild(o.actionContainer),o.voidDropTarget=new j(o.voidContainer,{validOverlays:"none",canDisplayOverlay:function(e){var t,n,r=u();return r?(null===(t=(n=o.tabs).length>0?n[n.length-1]:void 0)||void 0===t?void 0:t.value.panelId)!==r.panelId:i.model.canDisplayOverlay(e,ee.Panel)}}),o.addDisposables(o.voidDropTarget.onDrop((function(e){o._onDrop.fire({event:e.nativeEvent,index:o.tabs.length})})),o.voidDropTarget,f(o.tabContainer,"mousedown",(function(e){e.defaultPrevented||0===e.button&&o.accessor.doSetGroupActive(o.group)}))),o}(0,n.Z)(t,e);var i=t.prototype;return i.show=function(){this.hidden||(this.element.style.display="")},i.hide=function(){this._element.style.display="none"},i.setActionElement=function(e){this.actions!==e&&(this.actions&&(this.actions.remove(),this.actions=void 0),e&&(this.actionContainer.appendChild(e),this.actions=e))},i.isActive=function(e){return this.selectedIndex>-1&&this.tabs[this.selectedIndex].value===e},i.at=function(e){var t;return null===(t=this.tabs[e])||void 0===t?void 0:t.value},i.indexOf=function(e){return this.tabs.findIndex((function(t){return t.value.panelId===e}))},i.setActive=function(e){},i.addTab=function(e,t){if(void 0===t&&(t=this.tabs.length),t<0||t>this.tabs.length)throw new Error("invalid location");this.tabContainer.insertBefore(e.value.element,this.tabContainer.children[t]),this.tabs=[].concat(this.tabs.slice(0,t),[e],this.tabs.slice(t)),this.selectedIndex<0&&(this.selectedIndex=t)},i.delete=function(e){var t=this.tabs.findIndex((function(t){return t.value.panelId===e})),i=this.tabs.splice(t,1)[0],n=i.value;i.disposable.dispose(),n.element.remove()},i.setActivePanel=function(e){this.tabs.forEach((function(t){var i=e.id===t.value.panelId;t.value.setActive(i)}))},i.openPanel=function(e,t){var i,n=this;if(void 0===t&&(t=this.tabs.length),!this.tabs.find((function(t){return t.value.panelId===e.id}))){var o=new le(e.id,this.accessor,this.group);if(!(null===(i=e.view)||void 0===i?void 0:i.tab))throw new Error("invalid header component");o.setContent(e.view.tab);var r=_.from(o.onChanged((function(t){var i,o=e.id===(null===(i=n.group.model.activePanel)||void 0===i?void 0:i.id)&&n.group.model.isContentFocused;n.accessor.fireMouseEvent(Object.assign(Object.assign({},t),{panel:e,tab:!0})),0===t.event.button&&!t.event.defaultPrevented&&t.kind===ue.CLICK&&n.group.model.openPanel(e,{skipFocus:o})})),o.onDrop((function(e){n._onDrop.fire({event:e.nativeEvent,index:n.tabs.findIndex((function(e){return e.value===o}))})}))),s={value:o,disposable:r};this.addTab(s,t)}},i.closePanel=function(e){this.delete(e.id)},i.dispose=function(){e.prototype.dispose.call(this),this.tabs.forEach((function(e){e.disposable.dispose()})),this.tabs=[]},p(t,[{key:"panels",get:function(){return this.tabs.map((function(e){return e.value.panelId}))}},{key:"size",get:function(){return this.tabs.length}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,"number"!=typeof e?this.element.style.removeProperty("--dv-tabs-and-actions-container-height"):this.element.style.setProperty("--dv-tabs-and-actions-container-height",e+"px")}},{key:"hidden",get:function(){return this._hidden},set:function(e){this._hidden=e,this.element.style.display=e?"none":""}},{key:"element",get:function(){return this._element}}]),t}(_);!function(e){e.ADD_PANEL="ADD_PANEL",e.REMOVE_PANEL="REMOVE_PANEL",e.PANEL_ACTIVE="PANEL_ACTIVE"}(he||(he={}));var pe=function(e){function t(t,i,n,o,r){var s;return(s=e.call(this)||this).container=t,s.accessor=i,s.id=n,s.options=o,s.parent=r,s._isGroupActive=!1,s._locked=!1,s.mostRecentlyUsed=[],s._onDidChange=new m,s.onDidChange=s._onDidChange.event,s._width=0,s._height=0,s._panels=[],s._onMove=new m,s.onMove=s._onMove.event,s._onDidGroupChange=new m,s.onDidGroupChange=s._onDidGroupChange.event,s._onDidDrop=new m,s.onDidDrop=s._onDidDrop.event,s.container.classList.add("groupview"),s.addDisposables(s._onMove,s._onDidGroupChange,s._onDidChange,s._onDidDrop),s.tabsContainer=new ce(s.accessor,s.parent,{tabHeight:o.tabHeight}),s.contentContainer=new ae,s.dropTarget=new j(s.contentContainer.element,{validOverlays:"all",canDisplayOverlay:function(e,t){if(s.locked&&!t)return!1;var i=u();return i?!(1===s._panels.length&&i.groupId===s.id):s.canDisplayOverlay(e,ee.Panel)}}),t.append(s.tabsContainer.element,s.contentContainer.element),s.header.hidden=!!o.hideHeader,s.locked=!!o.locked,s.addDisposables(s._onMove,s._onDidGroupChange,s.tabsContainer.onDrop((function(e){s.handleDropEvent(e.event,W.Center,e.index)})),s.contentContainer.onDidFocus((function(){s.accessor.doSetGroupActive(s.parent,!0)})),s.contentContainer.onDidBlur((function(){})),s.dropTarget.onDrop((function(e){s.handleDropEvent(e.nativeEvent,e.position)}))),s}(0,n.Z)(t,e);var i=t.prototype;return i.initialize=function(){var e,t,i=this;(null===(e=this.options)||void 0===e?void 0:e.panels)&&this.options.panels.forEach((function(e){i.doAddPanel(e)})),(null===(t=this.options)||void 0===t?void 0:t.activePanel)&&this.openPanel(this.options.activePanel),this.setActive(this.isActive,!0,!0),this.updateContainer()},i.indexOf=function(e){return this.tabsContainer.indexOf(e.id)},i.toJSON=function(){var e,t={views:this.tabsContainer.panels,activeView:null===(e=this._activePanel)||void 0===e?void 0:e.id,id:this.id};return this.locked&&(t.locked=!0),this.header.hidden&&(t.hideHeader=!0),t},i.moveToNext=function(e){e||(e={}),e.panel||(e.panel=this.activePanel);var t,i=e.panel?this.panels.indexOf(e.panel):-1;if(i<this.panels.length-1)t=i+1;else{if(e.suppressRoll)return;t=0}this.openPanel(this.panels[t])},i.moveToPrevious=function(e){if(e||(e={}),e.panel||(e.panel=this.activePanel),e.panel){var t,i=this.panels.indexOf(e.panel);if(i>0)t=i-1;else{if(e.suppressRoll)return;t=this.panels.length-1}this.openPanel(this.panels[t])}},i.containsPanel=function(e){return this.panels.includes(e)},i.init=function(e){},i.update=function(e){},i.focus=function(){var e;null===(e=this._activePanel)||void 0===e||e.focus()},i.openPanel=function(e,t){void 0===t&&(t={}),("number"!=typeof t.index||t.index>this.panels.length)&&(t.index=this.panels.length);var i=!!t.skipSetPanelActive,n=!!t.skipSetGroupActive;e.updateParentGroup(this.parent,!0),this._activePanel!==e?(this.doAddPanel(e,t.index,i),i||this.doSetActivePanel(e),n||this.accessor.doSetGroupActive(this.parent,!!t.skipFocus),this.updateContainer()):n||this.accessor.doSetGroupActive(this.parent)},i.removePanel=function(e){var t="string"==typeof e?e:e.id,i=this._panels.find((function(e){return e.id===t}));if(!i)throw new Error("invalid operation");return this._removePanel(i)},i.closeAllPanels=function(){if(this.panels.length>0)for(var e,t=[].concat(this.panels),i=(0,l.Z)(t);!(e=i()).done;){var n=e.value;this.doClose(n)}else this.accessor.removeGroup(this.parent)},i.closePanel=function(e){this.doClose(e)},i.doClose=function(e){this.accessor.removePanel(e)},i.isPanelActive=function(e){return this._activePanel===e},i.updateActions=function(){var e,t;this.isActive&&(null===(t=null===(e=this._activePanel)||void 0===e?void 0:e.view)||void 0===t?void 0:t.actions)?this.tabsContainer.setActionElement(this._activePanel.view.actions.element):this.tabsContainer.setActionElement(void 0)},i.setActive=function(e,t,i){var n,o;void 0===t&&(t=!1),void 0===i&&(i=!1),i||this.isActive!==e?(this._isGroupActive=e,S(this.container,"active-group",e),S(this.container,"inactive-group",!e),this.tabsContainer.setActive(this.isActive),!this._activePanel&&this.panels.length>0&&this.doSetActivePanel(this.panels[0]),this.updateContainer(),e&&(t||null===(o=this._activePanel)||void 0===o||o.focus())):t||null===(n=this._activePanel)||void 0===n||n.focus()},i.layout=function(e,t){var i;this._width=e,this._height=t,this.contentContainer.layout(this._width,this._height),(null===(i=this._activePanel)||void 0===i?void 0:i.layout)&&this._activePanel.layout(this._width,this._height)},i._removePanel=function(e){var t=this._activePanel===e;if(this.doRemovePanel(e),t&&this.panels.length>0){var i=this.mostRecentlyUsed[0];this.openPanel(i)}return this._activePanel&&0===this.panels.length&&this.doSetActivePanel(void 0),this.updateContainer(),e},i.doRemovePanel=function(e){var t=this.panels.indexOf(e);this._activePanel===e&&this.contentContainer.closePanel(),this.tabsContainer.delete(e.id),this._panels.splice(t,1),this.mostRecentlyUsed.includes(e)&&this.mostRecentlyUsed.splice(this.mostRecentlyUsed.indexOf(e),1),this._onDidGroupChange.fire({kind:he.REMOVE_PANEL,panel:e})},i.doAddPanel=function(e,t,i){void 0===t&&(t=this.panels.length),void 0===i&&(i=!1);var n=this._panels.indexOf(e)>-1;this.tabsContainer.openPanel(e,t),i||this.contentContainer.openPanel(e),this.tabsContainer.show(),this.contentContainer.show(),n||(this.updateMru(e),this.panels.splice(t,0,e),this._onDidGroupChange.fire({kind:he.ADD_PANEL,panel:e}))},i.doSetActivePanel=function(e){this._activePanel=e,e&&(this.tabsContainer.setActivePanel(e),e.layout(this._width,this._height),this.updateMru(e),this._onDidGroupChange.fire({kind:he.PANEL_ACTIVE,panel:e}))},i.updateMru=function(e){this.mostRecentlyUsed.includes(e)&&this.mostRecentlyUsed.splice(this.mostRecentlyUsed.indexOf(e),1),this.mostRecentlyUsed=[e].concat(this.mostRecentlyUsed)},i.updateContainer=function(){var e=this;if(this.updateActions(),S(this.container,"empty",this.isEmpty),this.panels.forEach((function(t){return t.updateParentGroup(e.parent,e.isActive)})),this.isEmpty&&!this.watermark){var t=this.accessor.createWatermarkComponent();t.init({containerApi:new se(this.accessor),params:{},title:"",api:null}),this.watermark=t,f(this.watermark.element,"click",(function(){e.isActive||e.accessor.doSetGroupActive(e.parent)})),this.contentContainer.hide(),this.tabsContainer.hide(),this.container.appendChild(this.watermark.element),this.watermark.updateParentGroup(this.parent,!0)}!this.isEmpty&&this.watermark&&(this.watermark.element.remove(),this.watermark.dispose(),this.watermark=void 0,this.contentContainer.show(),this.tabsContainer.show())},i.canDisplayOverlay=function(e,t){return!!this.accessor.options.showDndOverlay&&this.accessor.options.showDndOverlay({nativeEvent:e,target:t,group:this.accessor.getPanel(this.id)})},i.handleDropEvent=function(e,t,i){var n=u();if(n){if(-1!==this.tabsContainer.indexOf(n.panelId)&&1===this.tabsContainer.size)return;var o=n.groupId,r=n.panelId;if(this.id===o&&!t)if(this.tabsContainer.indexOf(r)===i)return;this._onMove.fire({target:t,groupId:n.groupId,itemId:n.panelId,index:i})}else this._onDidDrop.fire({nativeEvent:e,position:t,index:i,getData:function(){return u()}})},i.dispose=function(){var t;e.prototype.dispose.call(this),null===(t=this.watermark)||void 0===t||t.dispose();for(var i,n=(0,l.Z)(this.panels);!(i=n()).done;){i.value.dispose()}this.dropTarget.dispose(),this.tabsContainer.dispose(),this.contentContainer.dispose()},p(t,[{key:"element",get:function(){throw new Error("not supported")}},{key:"activePanel",get:function(){return this._activePanel}},{key:"locked",get:function(){return this._locked},set:function(e){this._locked=e}},{key:"isActive",get:function(){return this._isGroupActive}},{key:"panels",get:function(){return this._panels}},{key:"size",get:function(){return this._panels.length}},{key:"isEmpty",get:function(){return 0===this._panels.length}},{key:"minimumHeight",get:function(){return 100}},{key:"maximumHeight",get:function(){return Number.MAX_SAFE_INTEGER}},{key:"minimumWidth",get:function(){return 100}},{key:"maximumWidth",get:function(){return Number.MAX_SAFE_INTEGER}},{key:"hasWatermark",get:function(){return!(!this.watermark||!this.container.contains(this.watermark.element))}},{key:"header",get:function(){return this.tabsContainer}},{key:"isContentFocused",get:function(){return!!document.activeElement&&z(document.activeElement,this.contentContainer.element)}}]),t}(_),me=O();function ve(e){switch(e){case"left":return W.Left;case"right":return W.Right;case"above":return W.Top;case"below":return W.Bottom;default:return W.Center}}var fe=function(e){function t(t,i){var n;return(n=e.call(this)||this)._element=t,n._id=me.next(),n._groups=new Map,n._onDidLayoutChange=new m,n.onDidLayoutChange=n._onDidLayoutChange.event,n._onDidRemoveGroup=new m,n.onDidRemoveGroup=n._onDidRemoveGroup.event,n._onDidAddGroup=new m,n.onDidAddGroup=n._onDidAddGroup.event,n._onDidActiveGroupChange=new m,n.onDidActiveGroupChange=n._onDidActiveGroupChange.event,n._bufferOnDidLayoutChange=new w,n.gridview=new ie(!!i.proportionalLayout,i.styles,i.orientation),n.element.appendChild(n.gridview.element),n.layout(0,0,!0),n.addDisposables(n.gridview.onDidChange((function(){n._bufferOnDidLayoutChange.fire()}))),n.addDisposables(h.any(n.onDidAddGroup,n.onDidRemoveGroup,n.onDidActiveGroupChange)((function(){n._bufferOnDidLayoutChange.fire()})),n._bufferOnDidLayoutChange.onEvent((function(){n._onDidLayoutChange.fire()})),n._bufferOnDidLayoutChange),n}(0,n.Z)(t,e);var i=t.prototype;return i.setVisible=function(e,t){this.gridview.setViewVisible(Q(e.element),t),this._onDidLayoutChange.fire()},i.isVisible=function(e){return this.gridview.isViewVisible(Q(e.element))},i.doAddGroup=function(e,t,i){void 0===t&&(t=[0]),this.gridview.addView(e,null!=i?i:M.Distribute,t),this._onDidAddGroup.fire(e),this.doSetGroupActive(e)},i.doRemoveGroup=function(e,t){if(!this._groups.has(e.id))throw new Error("invalid operation");var i=this._groups.get(e.id),n=this.gridview.remove(e,M.Distribute);if(i&&!(null==t?void 0:t.skipDispose)&&(i.disposable.dispose(),i.value.dispose(),this._groups.delete(e.id)),this._onDidRemoveGroup.fire(e),!(null==t?void 0:t.skipActive)&&this._activeGroup===e){var o=Array.from(this._groups.values());this.doSetGroupActive(o.length>0?o[0].value:void 0)}return n},i.getPanel=function(e){var t;return null===(t=this._groups.get(e))||void 0===t?void 0:t.value},i.doSetGroupActive=function(e,t){this._activeGroup!==e&&(this._activeGroup&&(this._activeGroup.setActive(!1),t||this._activeGroup.focus()),e&&(e.setActive(!0),t||e.focus()),this._activeGroup=e,this._onDidActiveGroupChange.fire(e))},i.removeGroup=function(e){this.doRemoveGroup(e)},i.moveToNext=function(e){var t;if(e||(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}var i=Q(e.group.element),n=null===(t=this.gridview.next(i))||void 0===t?void 0:t.view;this.doSetGroupActive(n)},i.moveToPrevious=function(e){var t;if(e||(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}var i=Q(e.group.element),n=null===(t=this.gridview.previous(i))||void 0===t?void 0:t.view;this.doSetGroupActive(n)},i.layout=function(e,t,i){(i||e!==this.width||t!==this.height)&&(this.element.style.height=t+"px",this.element.style.width=e+"px",this.gridview.layout(e,t))},i.dispose=function(){e.prototype.dispose.call(this),this._onDidActiveGroupChange.dispose(),this._onDidAddGroup.dispose(),this._onDidRemoveGroup.dispose(),this._onDidLayoutChange.dispose();for(var t,i=(0,l.Z)(this.groups);!(t=i()).done;){t.value.dispose()}this.gridview.dispose()},p(t,[{key:"id",get:function(){return this._id}},{key:"element",get:function(){return this._element}},{key:"size",get:function(){return this._groups.size}},{key:"groups",get:function(){return Array.from(this._groups.values()).map((function(e){return e.value}))}},{key:"width",get:function(){return this.gridview.width}},{key:"height",get:function(){return this.gridview.height}},{key:"minimumHeight",get:function(){return this.gridview.minimumHeight}},{key:"maximumHeight",get:function(){return this.gridview.maximumHeight}},{key:"minimumWidth",get:function(){return this.gridview.minimumWidth}},{key:"maximumWidth",get:function(){return this.gridview.maximumWidth}},{key:"activeGroup",get:function(){return this._activeGroup}}]),t}(_);function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var we=function(e){function t(t){var i;return(i=e.call(this)||this).id=t,i._isFocused=!1,i._isActive=!1,i._isVisible=!0,i._width=0,i._height=0,i._onDidDimensionChange=new m({replay:!0}),i.onDidDimensionsChange=i._onDidDimensionChange.event,i._onDidChangeFocus=new m({replay:!0}),i.onDidFocusChange=i._onDidChangeFocus.event,i._onFocusEvent=new m,i.onFocusEvent=i._onFocusEvent.event,i._onDidVisibilityChange=new m({replay:!0}),i.onDidVisibilityChange=i._onDidVisibilityChange.event,i._onVisibilityChange=new m,i.onVisibilityChange=i._onVisibilityChange.event,i._onDidActiveChange=new m({replay:!0}),i.onDidActiveChange=i._onDidActiveChange.event,i._onActiveChange=new m,i.onActiveChange=i._onActiveChange.event,i.addDisposables(i._onDidDimensionChange,i._onDidChangeFocus,i._onDidVisibilityChange,i._onDidActiveChange,i._onFocusEvent,i._onActiveChange,i._onVisibilityChange,i.onDidFocusChange((function(e){i._isFocused=e.isFocused})),i.onDidActiveChange((function(e){i._isActive=e.isActive})),i.onDidVisibilityChange((function(e){i._isVisible=e.isVisible})),i.onDidDimensionsChange((function(e){i._width=e.width,i._height=e.height}))),i}(0,n.Z)(t,e);var i=t.prototype;return i.setVisible=function(e){this._onVisibilityChange.fire({isVisible:e})},i.setActive=function(){this._onActiveChange.fire()},i.dispose=function(){e.prototype.dispose.call(this)},p(t,[{key:"isFocused",get:function(){return this._isFocused}},{key:"isActive",get:function(){return this._isActive}},{key:"isVisible",get:function(){return this._isVisible}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),t}(_),ye=function(e){function t(t){var i;return(i=e.call(this,t)||this)._onDidConstraintsChangeInternal=new m,i.onDidConstraintsChangeInternal=i._onDidConstraintsChangeInternal.event,i._onDidConstraintsChange=new m({replay:!0}),i.onDidConstraintsChange=i._onDidConstraintsChange.event,i._onDidSizeChange=new m,i.onDidSizeChange=i._onDidSizeChange.event,i.addDisposables(i._onDidConstraintsChangeInternal,i._onDidConstraintsChange,i._onDidSizeChange),i}(0,n.Z)(t,e);var i=t.prototype;return i.setConstraints=function(e){this._onDidConstraintsChangeInternal.fire(e)},i.setSize=function(e){this._onDidSizeChange.fire(e)},t}(we),_e=function(e){function t(t,i){var n;return(n=e.call(this,t.id)||this).panel=t,n._onDidTitleChange=new m,n.onDidTitleChange=n._onDidTitleChange.event,n._titleChanged=new m,n.titleChanged=n._titleChanged.event,n._suppressClosableChanged=new m,n.suppressClosableChanged=n._suppressClosableChanged.event,n._onDidActiveGroupChange=new m,n.onDidActiveGroupChange=n._onDidActiveGroupChange.event,n._onDidGroupChange=new m,n.onDidGroupChange=n._onDidGroupChange.event,n.disposable=new b,n._group=i,n.addDisposables(n.disposable,n._onDidTitleChange,n._titleChanged,n._suppressClosableChanged,n._onDidGroupChange,n._onDidActiveGroupChange),n}(0,n.Z)(t,e);var i=t.prototype;return i.setTitle=function(e){this._onDidTitleChange.fire({title:e})},i.close=function(){if(!this.group)throw new Error("panel "+this.id+" has no group");return this.group.model.closePanel(this.panel)},p(t,[{key:"title",get:function(){return this.panel.title}},{key:"suppressClosable",get:function(){return!!this.panel.suppressClosable}},{key:"isGroupActive",get:function(){var e;return!!(null===(e=this.group)||void 0===e?void 0:e.isActive)}},{key:"group",get:function(){return this._group},set:function(e){var t=this,i=this.isGroupActive;this._group=e,this._onDidGroupChange.fire(),this._group&&(this.disposable.value=this._group.api.onDidActiveChange((function(){t._onDidActiveGroupChange.fire()})),this.isGroupActive!==i&&this._onDidActiveGroupChange.fire())}}]),t}(ye),be=function(e){function t(t,i,n,o){var r;return(r=e.call(this)||this).id=t,r.containerApi=n,r.mutableDisposable=new b,r._suppressClosable=!1,r._title="",r._group=o,r.api=new _e(ge(r),r._group),r.addDisposables(r.api.onActiveChange((function(){i.setActivePanel(ge(r))})),r.api.onDidTitleChange((function(e){var t=e.title;r.update({params:{title:t}})}))),r}(0,n.Z)(t,e);var i=t.prototype;return i.init=function(e){var t;this._params=e.params,this._view=e.view,this.setTitle(e.title),this.setSuppressClosable(e.suppressClosable||!1),null===(t=this.view)||void 0===t||t.init(Object.assign(Object.assign({},e),{api:this.api,containerApi:this.containerApi}))},i.focus=function(){this.api._onFocusEvent.fire()},i.toJSON=function(){return{id:this.id,view:this.view.toJSON(),params:Object.keys(this._params||{}).length>0?this._params:void 0,suppressClosable:this.suppressClosable||void 0,title:this.title}},i.setTitle=function(e){var t;e!==(null===(t=this._params)||void 0===t?void 0:t.title)&&(this._title=e,this.api._titleChanged.fire({title:this.title}))},i.setSuppressClosable=function(e){var t;e!==(null===(t=this._params)||void 0===t?void 0:t.suppressClosable)&&(this._suppressClosable=e,this.api._suppressClosableChanged.fire({suppressClosable:!!this.suppressClosable}))},i.update=function(e){var t,i=e.params;this._params=Object.assign(Object.assign({},this._params||{}),e.params.params),"string"==typeof i.title&&this.setTitle(i.title),"boolean"==typeof i.suppressClosable&&this.setSuppressClosable(i.suppressClosable),null===(t=this.view)||void 0===t||t.update({params:{params:this._params,title:this.title,suppressClosable:this.suppressClosable}})},i.updateParentGroup=function(e,t){var i;this._group=e,this.api.group=e;var n=this._group.model.isPanelActive(this);this.api._onDidActiveChange.fire({isActive:t&&n}),this.api._onDidVisibilityChange.fire({isVisible:n}),null===(i=this.view)||void 0===i||i.updateParentGroup(this._group,this._group.model.isPanelActive(this))},i.layout=function(e,t){var i;this.api._onDidDimensionChange.fire({width:e,height:t-(this.group.model.header.height||0)}),null===(i=this.view)||void 0===i||i.layout(e,t)},i.dispose=function(){var e;this.api.dispose(),this.mutableDisposable.dispose(),null===(e=this.view)||void 0===e||e.dispose()},p(t,[{key:"params",get:function(){var e;return null===(e=this._params)||void 0===e?void 0:e.params}},{key:"title",get:function(){return this._title}},{key:"suppressClosable",get:function(){return this._suppressClosable}},{key:"group",get:function(){return this._group}},{key:"view",get:function(){return this._view}}]),t}(_),Ce=function(){function e(){this._element=document.createElement("div"),this._element.className="actions-bar",this._list=document.createElement("ul"),this._list.className="actions-container",this._element.appendChild(this._list)}return e.prototype.add=function(e){document.createElement("li").className="action-item",this._list.appendChild(e)},p(e,[{key:"element",get:function(){return this._element}}]),e}(),De=function(e){function t(){var t;(t=e.call(this)||this)._element=document.createElement("div"),t._element.className="watermark";var i=document.createElement("div");i.className="watermark-title";var n=document.createElement("span");n.style.flexGrow="1";var o=document.createElement("div");o.className="watermark-content",t._element.appendChild(i),t._element.appendChild(o);var r=new Ce;i.appendChild(n),i.appendChild(r.element);var s=document.createElement("a");return s.className="close-action",r.add(s),t.addDisposables(f(s,"click",(function(e){var i;e.preventDefault(),t.group&&(null===(i=t.params)||void 0===i||i.containerApi.removeGroup(t.group))}))),t}(0,n.Z)(t,e);var i=t.prototype;return i.update=function(e){},i.focus=function(){},i.toJSON=function(){return{}},i.layout=function(e,t){},i.init=function(e){var t=this;this.params=e,this.addDisposables(this.params.containerApi.onDidLayoutChange((function(){t.render()}))),this.render()},i.updateParentGroup=function(e,t){this.group=e,this.render()},i.render=function(){var e=!!(this.params&&this.params.containerApi.size<=1);S(this.element,"has-actions",e)},i.dispose=function(){e.prototype.dispose.call(this)},p(t,[{key:"id",get:function(){return"watermark"}},{key:"element",get:function(){return this._element}}]),t}(_);function ke(e,t,i,n,o,r){void 0===i&&(i={}),void 0===n&&(n={});var s="string"==typeof t?i[t]:void 0,a="string"==typeof t?n[t]:void 0;if(s&&a)throw new Error("Cannot create '"+e+"'. component '"+t+"' registered as both a component and frameworkComponent");if(a){if(!o)throw new Error("Cannot create '"+e+"' for framework component '"+t+"'. you must register a frameworkPanelWrapper to use framework components");return o.createComponent(e,t,a)}if(!s){if(r)return r();throw new Error("Cannot create '"+e+"', no component '"+t+"' provided")}return new s(e,t)}var Se=function(e){function t(){var t;return(t=e.call(this)||this)._isPanelVisible=!1,t._isGroupActive=!1,t.params={},t._element=document.createElement("div"),t._element.className="default-tab",t._content=document.createElement("div"),t._content.className="tab-content",t._actionContainer=document.createElement("div"),t._actionContainer.className="action-container",t._list=document.createElement("ul"),t._list.className="tab-list",t.action=document.createElement("a"),t.action.className="tab-action",t._element.appendChild(t._content),t._element.appendChild(t._actionContainer),t._actionContainer.appendChild(t._list),t._list.appendChild(t.action),t.addDisposables(f(t._actionContainer,"mousedown",(function(e){e.preventDefault()}))),t.render(),t}(0,n.Z)(t,e);var i=t.prototype;return i.update=function(e){this.params=Object.assign(Object.assign({},this.params),e.params),this.render()},i.toJSON=function(){return{id:this.id}},i.focus=function(){},i.init=function(e){var t=this;this.params=e,this._content.textContent=e.title,this.params.suppressClosable?this.action.classList.add("disable-close"):f(this.action,"click",(function(e){e.preventDefault(),t.params.api.close()}))},i.updateParentGroup=function(e,t){var i=this._isPanelVisible!==t||this._isGroupActive!==e.isActive;this._isPanelVisible=t,this._isGroupActive=e.isActive,i&&this.render()},i.layout=function(e,t){},i.render=function(){this._content.textContent!==this.params.title&&(this._content.textContent=this.params.title)},p(t,[{key:"element",get:function(){return this._element}},{key:"id",get:function(){return"__DEFAULT_TAB__"}}]),t}(_),ze=function(e){function t(t,i,n){var o;(o=e.call(this)||this).id=t,o.component=i,o.api=n,o._height=0,o._width=0,o._element=document.createElement("div"),o._element.tabIndex=-1,o._element.style.outline="none",o._element.style.height="100%",o._element.style.width="100%",o._element.style.overflow="hidden";var r=P(o._element),s=r.onDidFocus,a=r.onDidBlur;return o.addDisposables(o.api,s((function(){o.api._onDidChangeFocus.fire({isFocused:!0})})),a((function(){o.api._onDidChangeFocus.fire({isFocused:!1})}))),o}(0,n.Z)(t,e);var i=t.prototype;return i.focus=function(){this.api._onFocusEvent.fire()},i.layout=function(e,t){this._width=e,this._height=t,this.api._onDidDimensionChange.fire({width:e,height:t}),this.part&&this._params&&this.part.update(this._params.params)},i.init=function(e){this._params=e,this.part=this.getComponent()},i.update=function(e){var t,i;this._params=Object.assign(Object.assign({},this._params),{params:Object.assign(Object.assign({},null===(t=this._params)||void 0===t?void 0:t.params),e.params)}),null===(i=this.part)||void 0===i||i.update({params:this._params.params})},i.toJSON=function(){var e,t,i=null!==(t=null===(e=this._params)||void 0===e?void 0:e.params)&&void 0!==t?t:{};return{id:this.id,component:this.component,params:Object.keys(i).length>0?i:void 0}},i.dispose=function(){var t;e.prototype.dispose.call(this),this.api.dispose(),null===(t=this.part)||void 0===t||t.dispose()},p(t,[{key:"element",get:function(){return this._element}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"params",get:function(){var e;return null===(e=this._params)||void 0===e?void 0:e.params}}]),t}(_),Ee=function(e){function t(t,i,n){var o;return void 0===n&&(n=new ye(t)),(o=e.call(this,t,i,n)||this)._evaluatedMinimumWidth=0,o._evaluatedMaximumWidth=Number.MAX_SAFE_INTEGER,o._evaluatedMinimumHeight=0,o._evaluatedMaximumHeight=Number.MAX_SAFE_INTEGER,o._minimumWidth=0,o._minimumHeight=0,o._maximumWidth=Number.MAX_SAFE_INTEGER,o._maximumHeight=Number.MAX_SAFE_INTEGER,o._snap=!1,o._onDidChange=new m,o.onDidChange=o._onDidChange.event,o.addDisposables(o._onDidChange,o.api.onVisibilityChange((function(e){var t=e.isVisible;o._params.accessor.setVisible(ge(o),t)})),o.api.onActiveChange((function(){o._params.accessor.setActive(ge(o))})),o.api.onDidConstraintsChangeInternal((function(e){"number"!=typeof e.minimumWidth&&"function"!=typeof e.minimumWidth||(o._minimumWidth=e.minimumWidth),"number"!=typeof e.minimumHeight&&"function"!=typeof e.minimumHeight||(o._minimumHeight=e.minimumHeight),"number"!=typeof e.maximumWidth&&"function"!=typeof e.maximumWidth||(o._maximumWidth=e.maximumWidth),"number"!=typeof e.maximumHeight&&"function"!=typeof e.maximumHeight||(o._maximumHeight=e.maximumHeight)})),o.api.onDidSizeChange((function(e){o._onDidChange.fire({height:e.height,width:e.width})}))),o}(0,n.Z)(t,e);var i=t.prototype;return i.setVisible=function(e){this.api._onDidVisibilityChange.fire({isVisible:e})},i.setActive=function(e){this.api._onDidActiveChange.fire({isActive:e})},i.init=function(t){t.maximumHeight&&(this._maximumHeight=t.maximumHeight),t.minimumHeight&&(this._minimumHeight=t.minimumHeight),t.maximumWidth&&(this._maximumWidth=t.maximumWidth),t.minimumWidth&&(this._minimumWidth=t.minimumWidth),this._priority=t.priority,this._snap=!!t.snap,e.prototype.init.call(this,t),"boolean"==typeof t.isVisible&&this.setVisible(t.isVisible)},i.updateConstraints=function(){this.api._onDidConstraintsChange.fire({minimumWidth:this._evaluatedMinimumWidth,maximumWidth:this._evaluatedMaximumWidth,minimumHeight:this._evaluatedMinimumHeight,maximumHeight:this._evaluatedMaximumHeight})},i.toJSON=function(){var t=e.prototype.toJSON.call(this),i=function(e){return e===Number.MAX_SAFE_INTEGER?void 0:e},n=function(e){return e<=0?void 0:e};return Object.assign(Object.assign({},t),{minimumHeight:n(this.minimumHeight),maximumHeight:i(this.maximumHeight),minimumWidth:n(this.minimumWidth),maximumWidth:i(this.maximumWidth),snap:this.snap,priority:this.priority})},p(t,[{key:"priority",get:function(){return this._priority}},{key:"snap",get:function(){return this._snap}},{key:"minimumWidth",get:function(){var e="function"==typeof this._minimumWidth?this._minimumWidth():this._minimumWidth;return e!==this._evaluatedMinimumWidth&&(this._evaluatedMinimumWidth=e,this.updateConstraints()),e}},{key:"minimumHeight",get:function(){var e="function"==typeof this._minimumHeight?this._minimumHeight():this._minimumHeight;return e!==this._evaluatedMinimumHeight&&(this._evaluatedMinimumHeight=e,this.updateConstraints()),e}},{key:"maximumHeight",get:function(){var e="function"==typeof this._maximumHeight?this._maximumHeight():this._maximumHeight;return e!==this._evaluatedMaximumHeight&&(this._evaluatedMaximumHeight=e,this.updateConstraints()),e}},{key:"maximumWidth",get:function(){var e="function"==typeof this._maximumWidth?this._maximumWidth():this._maximumWidth;return e!==this._evaluatedMaximumWidth&&(this._evaluatedMaximumWidth=e,this.updateConstraints()),e}},{key:"isActive",get:function(){return this.api.isActive}}]),t}(ze),Pe=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.Z)(t,e),t}(ye),xe=function(e){function t(t,i,n){var o;return(o=e.call(this,i,"groupview_default",new Pe(i))||this)._model=new pe(o.element,t,i,n,ge(o)),o}(0,n.Z)(t,e);var i=t.prototype;return i.initialize=function(){this._model.initialize()},i.setActive=function(t){e.prototype.setActive.call(this,t),this.model.setActive(t)},i.layout=function(t,i){e.prototype.layout.call(this,t,i),this.model.layout(t,i)},i.getComponent=function(){return this._model},i.toJSON=function(){return this.model.toJSON()},p(t,[{key:"panels",get:function(){return this._model.panels}},{key:"activePanel",get:function(){return this._model.activePanel}},{key:"size",get:function(){return this._model.size}},{key:"model",get:function(){return this._model}},{key:"minimumHeight",get:function(){return this._model.minimumHeight}},{key:"maximumHeight",get:function(){return this._model.maximumHeight}},{key:"minimumWidth",get:function(){return this._model.minimumWidth}},{key:"maximumWidth",get:function(){return this._model.maximumWidth}},{key:"locked",get:function(){return this._model.locked},set:function(e){this._model.locked=e}},{key:"header",get:function(){return this._model.header}}]),t}(Ee),Ae=function(){function e(e){var t;this._content=e.content,this._tab=null!==(t=e.tab)&&void 0!==t?t:new Se,this._actions=e.actions||(this.content.actions?{element:this.content.actions,dispose:function(){}}:void 0)}var t=e.prototype;return t.init=function(e){this.content.init(Object.assign(Object.assign({},e),{tab:this.tab})),this.tab.init(e)},t.updateParentGroup=function(e,t){var i;this._content.updateParentGroup(e,t),null===(i=this._tab)||void 0===i||i.updateParentGroup(e,t)},t.layout=function(e,t){this.content.layout(e,t)},t.update=function(e){this.content.update(e),this.tab.update(e)},t.toJSON=function(){return{content:this.content.toJSON(),tab:this.tab instanceof Se?void 0:this.tab.toJSON()}},t.dispose=function(){var e;this.content.dispose(),this.tab.dispose(),null===(e=this.actions)||void 0===e||e.dispose()},p(e,[{key:"content",get:function(){return this._content}},{key:"tab",get:function(){return this._tab}},{key:"actions",get:function(){return this._actions}}]),e}(),Oe=O(),Ne=function(e){function t(t,i){var n;return(n=e.call(this,t,{proportionalLayout:!0,orientation:i.orientation||R.HORIZONTAL,styles:i.styles})||this)._onTabContextMenu=new m,n.onTabContextMenu=n._onTabContextMenu.event,n._onDidDrop=new m,n.onDidDrop=n._onDidDrop.event,n._onDidRemovePanel=new m,n.onDidRemovePanel=n._onDidRemovePanel.event,n._onDidAddPanel=new m,n.onDidAddPanel=n._onDidAddPanel.event,n._onDidLayoutFromJSON=new m,n.onDidLayoutFromJSON=n._onDidLayoutFromJSON.event,n._onDidActivePanelChange=new m,n.onDidActivePanelChange=n._onDidActivePanelChange.event,n.addDisposables(n._onTabContextMenu,n._onDidDrop,h.any(n.onDidAddPanel,n.onDidRemovePanel,n.onDidActivePanelChange)((function(){n._bufferOnDidLayoutChange.fire()}))),n._options=i,n.options.components||(n.options.components={}),n.options.frameworkComponents||(n.options.frameworkComponents={}),n.options.frameworkTabComponents||(n.options.frameworkTabComponents={}),n.options.tabComponents||(n.options.tabComponents={}),n.options.watermarkComponent||n.options.watermarkFrameworkComponent||(n.options.watermarkComponent=De),n._api=new se(ge(n)),n}(0,n.Z)(t,e);var i=t.prototype;return i.updateOptions=function(e){var t="string"==typeof e.orientation&&this.gridview.orientation!==e.orientation;this._options=Object.assign(Object.assign({},this.options),e),t&&(this.gridview.orientation=e.orientation),this.layout(this.gridview.width,this.gridview.height,!0)},i.focus=function(){var e;null===(e=this.activeGroup)||void 0===e||e.focus()},i.getGroupPanel=function(e){return this.panels.find((function(t){return t.id===e}))},i.setActivePanel=function(e){this.doSetGroupActive(e.group),e.group.model.openPanel(e)},i.moveToNext=function(e){var t;if(void 0===e&&(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}if(e.includePanel&&e.group&&e.group.activePanel!==e.group.panels[e.group.panels.length-1])e.group.model.moveToNext({suppressRoll:!0});else{var i=Q(e.group.element),n=null===(t=this.gridview.next(i))||void 0===t?void 0:t.view;this.doSetGroupActive(n)}},i.moveToPrevious=function(e){var t;if(void 0===e&&(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}if(e.includePanel&&e.group&&e.group.activePanel!==e.group.panels[0])e.group.model.moveToPrevious({suppressRoll:!0});else{var i=Q(e.group.element),n=null===(t=this.gridview.previous(i))||void 0===t?void 0:t.view;n&&this.doSetGroupActive(n)}},i.toJSON=function(){var e;return{grid:this.gridview.serialize(),panels:this.panels.reduce((function(e,t){return e[t.id]=t.toJSON(),e}),{}),activeGroup:null===(e=this.activeGroup)||void 0===e?void 0:e.id,options:{tabHeight:this.tabHeight}}},i.fromJSON=function(e){var t=this;if(this.clear(),!this.deserializer)throw new Error("invalid deserializer");var i=e.grid,n=e.panels,o=e.options,r=e.activeGroup;if("number"==typeof(null==o?void 0:o.tabHeight)&&(this.tabHeight=o.tabHeight),!this.deserializer)throw new Error("no deserializer provided");if(this.gridview.deserialize(i,{fromJSON:function(e){var i=e.data,o=i.id,r=i.locked,s=i.hideHeader,a=i.views,u=i.activeView,d=t.createGroup({id:o,locked:!!r,hideHeader:!!s});t._onDidAddGroup.fire(d);for(var h,c=(0,l.Z)(a);!(h=c()).done;){var p=h.value,m=t.deserializer.fromJSON(n[p],d),v="string"==typeof u&&u===m.id;d.model.openPanel(m,{skipSetPanelActive:!v,skipSetGroupActive:!0})}return!d.activePanel&&d.panels.length>0&&d.model.openPanel(d.panels[d.panels.length-1],{skipSetGroupActive:!0}),d}}),"string"==typeof r){var s=this.getPanel(r);s&&this.doSetGroupActive(s)}this.gridview.layout(this.width,this.height),this._onDidLayoutFromJSON.fire()},i.clear=function(){for(var e,t=Array.from(this._groups.values()).map((function(e){return e.value})),i=!!this.activeGroup,n=!!this.activePanel,o=(0,l.Z)(t);!(e=o()).done;){var r=e.value;this.removeGroup(r,!0)}i&&this.doSetGroupActive(void 0),n&&this._onDidActivePanelChange.fire(void 0),this.gridview.clear()},i.closeAllGroups=function(){for(var e,t=(0,l.Z)(this._groups.entries());!(e=t()).done;){var i=e.value;i[0];i[1].value.model.closeAllPanels()}},i.fireMouseEvent=function(e){e.kind===ue.CONTEXT_MENU&&e.tab&&e.panel&&this._onTabContextMenu.fire({event:e.event,api:this._api,panel:e.panel})},i.addPanel=function(e){var t,i,n,o;if(this.panels.find((function(t){return t.id===e.id})))throw new Error("panel with id "+e.id+" already exists");if(null===(t=e.position)||void 0===t?void 0:t.referencePanel){var r=this.getGroupPanel(e.position.referencePanel);if(!r)throw new Error("referencePanel "+e.position.referencePanel+" does not exist");n=this.findGroup(r)}else n=this.activeGroup;if(n){var s=ve((null===(i=e.position)||void 0===i?void 0:i.direction)||"within");if(s===W.Center)o=this.createPanel(e,n),n.model.openPanel(o);else{var a=Q(n.element),u=q(this.gridview.orientation,a,s),d=this.createGroupAtLocation(u);o=this.createPanel(e,d),d.model.openPanel(o)}}else{var h=this.createGroupAtLocation();o=this.createPanel(e,h),h.model.openPanel(o)}return o},i.removePanel=function(e,t){void 0===t&&(t={removeEmptyGroup:!0,skipDispose:!1});var i=e.group;if(!i)throw new Error("cannot remove panel "+e.id+". it's missing a group.");i.model.removePanel(e),e.dispose(),!(1===this.size)&&0===i.size&&t.removeEmptyGroup&&this.removeGroup(i)},i.createWatermarkComponent=function(){var e;return ke("watermark-id","watermark-name",this.options.watermarkComponent?{"watermark-name":this.options.watermarkComponent}:{},this.options.watermarkFrameworkComponent?{"watermark-name":this.options.watermarkFrameworkComponent}:{},null===(e=this.options.frameworkComponentFactory)||void 0===e?void 0:e.watermark)},i.addEmptyGroup=function(e){var t=this.createGroup();if(e){var i=this.panels.find((function(t){return t.id===e.referencePanel}));if(!i)throw new Error("reference panel "+e.referencePanel+" does not exist");var n=this.findGroup(i);if(!n)throw new Error("reference group for reference panel "+e.referencePanel+" does not exist");var o=ve(e.direction||"within"),r=Q(n.element),s=q(this.gridview.orientation,r,o);this.doAddGroup(t,s)}else this.doAddGroup(t)},i.removeGroup=function(t,i){void 0===i&&(i=!1);for(var n,o=[].concat(t.panels),r=(0,l.Z)(o);!(n=r()).done;){var s=n.value;this.removePanel(s,{removeEmptyGroup:!1,skipDispose:!1})}e.prototype.doRemoveGroup.call(this,t,{skipActive:i})},i.moveGroupOrPanel=function(e,t,i,n,o){var r,s=t?null===(r=this._groups.get(t))||void 0===r?void 0:r.value:void 0;if(n&&n!==W.Center){var a=Q(e.element),u=q(this.gridview.orientation,a,n);if(s&&s.size<2){var d=N(u),h=d[0],l=d[1],c=N(Q(s.element)),p=c[0],m=c[1];if(I(p,h))this.gridview.moveView(p,m,l);else{var v=this.doRemoveGroup(s,{skipActive:!0,skipDispose:!0}),f=Q(e.element),g=q(this.gridview.orientation,f,n);this.doAddGroup(v,g)}}else{var w=(null==s?void 0:s.model.removePanel(i))||this.panels.find((function(e){return e.id===i}));if(!w)throw new Error("No panel with id "+i);var y=q(this.gridview.orientation,a,n);this.createGroupAtLocation(y).model.openPanel(w)}}else{var _=(null==s?void 0:s.model.removePanel(i))||this.panels.find((function(e){return e.id===i}));if(!_)throw new Error("No panel with id "+i);0===(null==s?void 0:s.model.size)&&this.doRemoveGroup(s),e.model.openPanel(_,{index:o})}},i.doSetGroupActive=function(t,i){var n,o,r=this._activeGroup===t;e.prototype.doSetGroupActive.call(this,t,i),!r&&(null===(n=this._activeGroup)||void 0===n?void 0:n.activePanel)&&this._onDidActivePanelChange.fire(null===(o=this._activeGroup)||void 0===o?void 0:o.activePanel)},i.createGroup=function(e){var t=this;e||(e={tabHeight:this.tabHeight}),"number"!=typeof e.tabHeight&&(e.tabHeight=this.tabHeight);var i=null==e?void 0:e.id;if(i&&this._groups.has(e.id)&&(console.warn("Duplicate group id "+(null==e?void 0:e.id)+". reassigning group id to avoid errors"),i=void 0),!i)for(i=Oe.next();this._groups.has(i);)i=Oe.next();var n=new xe(this,i,e);if(n.init({params:{},accessor:null}),!this._groups.has(n.id)){var o=new _(n.model.onMove((function(e){var i=e.groupId,o=e.itemId,r=e.target,s=e.index;t.moveGroupOrPanel(n,i,o,r,s)})),n.model.onDidDrop((function(e){t._onDidDrop.fire(Object.assign(Object.assign({},e),{api:t._api,group:n}))})),n.model.onDidGroupChange((function(e){switch(e.kind){case he.ADD_PANEL:e.panel&&t._onDidAddPanel.fire(e.panel);break;case he.REMOVE_PANEL:e.panel&&t._onDidRemovePanel.fire(e.panel);break;case he.PANEL_ACTIVE:t._onDidActivePanelChange.fire(e.panel)}})));this._groups.set(n.id,{value:n,disposable:o})}return n.initialize(),"number"==typeof this.options.tabHeight&&(n.model.header.height=this.options.tabHeight),n},i.createPanel=function(e,t){var i=new Ae({content:this.createContentComponent(e.id,e.component),tab:this.createTabComponent(e.id,e.tabComponent)}),n=new be(e.id,this,this._api,t);return n.init({view:i,title:e.title||e.id,suppressClosable:null==e?void 0:e.suppressClosable,params:(null==e?void 0:e.params)||{}}),n},i.createContentComponent=function(e,t){var i;return ke(e,t,this.options.components||{},this.options.frameworkComponents,null===(i=this.options.frameworkComponentFactory)||void 0===i?void 0:i.content)},i.createTabComponent=function(e,t){var i;return ke(e,t,this.options.tabComponents||{},this.options.frameworkTabComponents,null===(i=this.options.frameworkComponentFactory)||void 0===i?void 0:i.tab,(function(){return new Se}))},i.createGroupAtLocation=function(e){void 0===e&&(e=[0]);var t=this.createGroup();return this.doAddGroup(t,e),t},i.findGroup=function(e){var t;return null===(t=Array.from(this._groups.values()).find((function(t){return t.value.model.containsPanel(e)})))||void 0===t?void 0:t.value},i.dispose=function(){e.prototype.dispose.call(this),this._onDidActivePanelChange.dispose(),this._onDidAddPanel.dispose(),this._onDidRemovePanel.dispose(),this._onDidLayoutFromJSON.dispose()},p(t,[{key:"totalPanels",get:function(){return this.panels.length}},{key:"panels",get:function(){return this.groups.flatMap((function(e){return e.panels}))}},{key:"deserializer",get:function(){return this._deserializer},set:function(e){this._deserializer=e}},{key:"options",get:function(){return this._options}},{key:"activePanel",get:function(){var e=this.activeGroup;if(e)return e.activePanel}},{key:"tabHeight",get:function(){return this.options.tabHeight},set:function(e){this.options.tabHeight=e,this._groups.forEach((function(t){t.value.model.header.height=e}))}}]),t}(fe),Ie=function(e){function t(t,i){var n;return(n=e.call(this,t,{proportionalLayout:i.proportionalLayout,orientation:i.orientation,styles:i.styles})||this)._onDidLayoutfromJSON=new m,n.onDidLayoutFromJSON=n._onDidLayoutfromJSON.event,n._options=i,n.options.components||(n.options.components={}),n.options.frameworkComponents||(n.options.frameworkComponents={}),n}(0,n.Z)(t,e);var i=t.prototype;return i.updateOptions=function(e){var t="string"==typeof e.orientation&&this.gridview.orientation!==e.orientation;this._options=Object.assign(Object.assign({},this.options),e),t&&(this.gridview.orientation=e.orientation),this.layout(this.gridview.width,this.gridview.height,!0)},i.removePanel=function(e){this.removeGroup(e)},i.toJSON=function(){var e;return{grid:this.gridview.serialize(),activePanel:null===(e=this.activeGroup)||void 0===e?void 0:e.id}},i.setVisible=function(e,t){this.gridview.setViewVisible(Q(e.element),t)},i.setActive=function(e){this._groups.forEach((function(t,i){t.value.setActive(e===t.value)}))},i.focus=function(){var e;null===(e=this.activeGroup)||void 0===e||e.focus()},i.fromJSON=function(e){var t=this;this.clear();var i=e.grid,n=e.activePanel,o=[];if(this.gridview.deserialize(i,{fromJSON:function(e){var i=e.data,n=ke(i.id,i.component,t.options.components||{},t.options.frameworkComponents||{},t.options.frameworkComponentFactory?{createComponent:t.options.frameworkComponentFactory.createComponent}:void 0);return o.push((function(){return n.init({params:i.params,minimumWidth:i.minimumWidth,maximumWidth:i.maximumWidth,minimumHeight:i.minimumHeight,maximumHeight:i.maximumHeight,priority:i.priority,snap:!!i.snap,accessor:t,isVisible:e.visible})})),t._onDidAddGroup.fire(n),t.registerPanel(n),n}}),this.layout(this.width,this.height,!0),o.forEach((function(e){return e()})),"string"==typeof n){var r=this.getPanel(n);r&&this.doSetGroupActive(r)}this._onDidLayoutfromJSON.fire()},i.clear=function(){for(var e=this.activeGroup,t=0,i=Array.from(this._groups.values());t<i.length;t++){var n=i[t];n.disposable.dispose(),this.doRemoveGroup(n.value,{skipActive:!0})}e&&this.doSetGroupActive(void 0),this.gridview.clear()},i.movePanel=function(e,t){var i,n,o=this.gridview.remove(e),r=null===(i=this._groups.get(t.reference))||void 0===i?void 0:i.value;if(!r)throw new Error("reference group "+t.reference+" does not exist");var s=ve(t.direction);if(s===W.Center)throw new Error(s+" not supported as an option");var a=Q(r.element);n=q(this.gridview.orientation,a,s),this.doAddGroup(o,n,t.size)},i.addPanel=function(e){var t,i,n=e.location||[0];if(null===(t=e.position)||void 0===t?void 0:t.referencePanel){var o=null===(i=this._groups.get(e.position.referencePanel))||void 0===i?void 0:i.value;if(!o)throw new Error("reference group "+e.position.referencePanel+" does not exist");var r=ve(e.position.direction);if(r===W.Center)throw new Error(r+" not supported as an option");var s=Q(o.element);n=q(this.gridview.orientation,s,r)}var a=ke(e.id,e.component,this.options.components||{},this.options.frameworkComponents||{},this.options.frameworkComponentFactory?{createComponent:this.options.frameworkComponentFactory.createComponent}:void 0);return a.init({params:e.params||{},minimumWidth:e.minimumWidth,maximumWidth:e.maximumWidth,minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight,priority:e.priority,snap:!!e.snap,accessor:this,isVisible:!0}),this.registerPanel(a),this.doAddGroup(a,n,e.size),a},i.registerPanel=function(e){var t=this,i=new _(e.api.onDidFocusChange((function(i){i.isFocused&&t._groups.forEach((function(t){var i=t.value;i!==e?i.setActive(!1):i.setActive(!0)}))})));this._groups.set(e.id,{value:e,disposable:i})},i.moveGroup=function(e,t,i){var n=this.getPanel(t);if(!n)throw new Error("invalid operation");var o=Q(e.element),r=N(q(this.gridview.orientation,o,i)),s=r[0],a=r[1],u=N(Q(n.element)),d=u[0],h=u[1];if(I(d,s))this.gridview.moveView(d,h,a);else{var l=this.doRemoveGroup(n,{skipActive:!0,skipDispose:!0}),c=Q(e.element),p=q(this.gridview.orientation,c,i);this.doAddGroup(l,p)}},i.removeGroup=function(t){e.prototype.removeGroup.call(this,t)},i.dispose=function(){e.prototype.dispose.call(this),this._onDidLayoutfromJSON.dispose()},p(t,[{key:"orientation",get:function(){return this.gridview.orientation},set:function(e){this.gridview.orientation=e}},{key:"options",get:function(){return this._options}},{key:"deserializer",get:function(){return this._deserializer},set:function(e){this._deserializer=e}}]),t}(fe),Ve=function(e){function t(t,i){var n;return(n=e.call(this)||this).element=t,n._disposable=new b,n._panels=new Map,n._onDidLayoutfromJSON=new m,n.onDidLayoutFromJSON=n._onDidLayoutfromJSON.event,n._onDidAddView=new m,n.onDidAddView=n._onDidAddView.event,n._onDidRemoveView=new m,n.onDidRemoveView=n._onDidRemoveView.event,n._onDidLayoutChange=new m,n.onDidLayoutChange=n._onDidLayoutChange.event,n._options=i,i.components||(i.components={}),i.frameworkComponents||(i.frameworkComponents={}),n.splitview=new Z(n.element,i),n.addDisposables(n._disposable,n._onDidAddView,n._onDidLayoutfromJSON,n._onDidRemoveView,n._onDidLayoutChange),n}(0,n.Z)(t,e);var i=t.prototype;return i.updateOptions=function(e){var t="string"==typeof e.orientation&&this.options.orientation!==e.orientation;this._options=Object.assign(Object.assign({},this.options),e),t&&(this.splitview.orientation=e.orientation),this.splitview.layout(this.splitview.size,this.splitview.orthogonalSize)},i.focus=function(){var e;null===(e=this._activePanel)||void 0===e||e.focus()},i.movePanel=function(e,t){this.splitview.moveView(e,t)},i.setVisible=function(e,t){var i=this.panels.indexOf(e);this.splitview.setViewVisible(i,t)},i.setActive=function(e,t){this._activePanel=e,this.panels.filter((function(t){return t!==e})).forEach((function(e){e.api._onDidActiveChange.fire({isActive:!1}),t||e.focus()})),e.api._onDidActiveChange.fire({isActive:!0}),t||e.focus()},i.removePanel=function(e,t){var i=this._panels.get(e.id);if(!i)throw new Error("unknown splitview panel "+e.id);i.disposable.dispose(),i.value.dispose(),this._panels.delete(e.id);var n=this.panels.findIndex((function(t){return t===e}));this.splitview.removeView(n,t);var o=this.panels;o.length>0&&this.setActive(o[o.length-1])},i.getPanel=function(e){return this.panels.find((function(t){return t.id===e}))},i.addPanel=function(e){if(this._panels.has(e.id))throw new Error("panel "+e.id+" already exists");var t=ke(e.id,e.component,this.options.components||{},this.options.frameworkComponents||{},this.options.frameworkWrapper?{createComponent:this.options.frameworkWrapper.createComponent}:void 0);t.orientation=this.splitview.orientation,t.init({params:e.params||{},minimumSize:e.minimumSize,maximumSize:e.maximumSize,snap:e.snap,priority:e.priority,accessor:this});var i="number"==typeof e.size?e.size:M.Distribute,n="number"==typeof e.index?e.index:void 0;return this.splitview.addView(t,i,n),this.doAddView(t),this.setActive(t),t},i.layout=function(e,t){var i=this.splitview.orientation===R.HORIZONTAL?[e,t]:[t,e],n=i[0],o=i[1];this.splitview.layout(n,o)},i.doAddView=function(e){var t=this,i=e.api.onDidFocusChange((function(i){i.isFocused&&t.setActive(e,!0)}));this._panels.set(e.id,{disposable:i,value:e})},i.toJSON=function(){var e,t=this;return{views:this.splitview.getViews().map((function(e,i){return{size:t.splitview.getViewSize(i),data:e.toJSON(),snap:!!e.snap,priority:e.priority}})),activeView:null===(e=this._activePanel)||void 0===e?void 0:e.id,size:this.splitview.size,orientation:this.splitview.orientation}},i.fromJSON=function(e){var t=this;this.clear();var i=e.views,n=e.orientation,o=e.size,r=e.activeView,s=[];if(this.splitview=new Z(this.element,{orientation:n,proportionalLayout:this.options.proportionalLayout,descriptor:{size:o,views:i.map((function(e){var i=e.data;if(t._panels.has(i.id))throw new Error("panel "+i.id+" already exists");var o=ke(i.id,i.component,t.options.components||{},t.options.frameworkComponents||{},t.options.frameworkWrapper?{createComponent:t.options.frameworkWrapper.createComponent}:void 0);return s.push((function(){o.init({params:i.params||{},minimumSize:i.minimumSize,maximumSize:i.maximumSize,snap:e.snap,priority:e.priority,accessor:t})})),o.orientation=n,t.doAddView(o),setTimeout((function(){t._onDidAddView.fire(o)}),0),{size:e.size,view:o}}))}}),this.layout(this.width,this.height),s.forEach((function(e){return e()})),"string"==typeof r){var a=this.getPanel(r);a&&this.setActive(a)}this._onDidLayoutfromJSON.fire()},i.clear=function(){for(var e,t=(0,l.Z)(this._panels.entries());!(e=t()).done;){var i=e.value,n=(i[0],i[1]);n.disposable.dispose(),n.value.dispose()}this._panels.clear(),this.splitview.dispose()},i.dispose=function(){for(var t,i=(0,l.Z)(this._panels.entries());!(t=i()).done;){var n=t.value,o=(n[0],n[1]);o.disposable.dispose(),o.value.dispose()}this._panels.clear(),this.splitview.dispose(),e.prototype.dispose.call(this)},p(t,[{key:"panels",get:function(){return this.splitview.getViews()}},{key:"options",get:function(){return this._options}},{key:"length",get:function(){return this._panels.size}},{key:"orientation",get:function(){return this.splitview.orientation}},{key:"splitview",get:function(){return this._splitview},set:function(e){var t=this;this._splitview=e,this._disposable.value=new _(this._splitview.onDidSashEnd((function(){t._onDidLayoutChange.fire(void 0)})),this._splitview.onDidAddView((function(e){return t._onDidAddView.fire(e)})),this._splitview.onDidRemoveView((function(e){return t._onDidRemoveView.fire(e)})))}},{key:"minimumSize",get:function(){return this.splitview.minimumSize}},{key:"maximumSize",get:function(){return this.splitview.maximumSize}},{key:"height",get:function(){return this.splitview.orientation===R.HORIZONTAL?this.splitview.orthogonalSize:this.splitview.size}},{key:"width",get:function(){return this.splitview.orientation===R.HORIZONTAL?this.splitview.size:this.splitview.orthogonalSize}}]),t}(_),Te=function(e){function t(t){var i;return(i=e.call(this,t)||this)._onDidConstraintsChangeInternal=new m,i.onDidConstraintsChangeInternal=i._onDidConstraintsChangeInternal.event,i._onDidConstraintsChange=new m({replay:!0}),i.onDidConstraintsChange=i._onDidConstraintsChange.event,i._onDidSizeChange=new m,i.onDidSizeChange=i._onDidSizeChange.event,i.addDisposables(i._onDidConstraintsChangeInternal,i._onDidConstraintsChange,i._onDidSizeChange),i}(0,n.Z)(t,e);var i=t.prototype;return i.setConstraints=function(e){this._onDidConstraintsChangeInternal.fire(e)},i.setSize=function(e){this._onDidSizeChange.fire(e)},t}(we),Le=function(e){function t(t){var i;return(i=e.call(this,t)||this)._onDidExpansionChange=new m({replay:!0}),i.onDidExpansionChange=i._onDidExpansionChange.event,i._onMouseEnter=new m({}),i.onMouseEnter=i._onMouseEnter.event,i._onMouseLeave=new m({}),i.onMouseLeave=i._onMouseLeave.event,i.addDisposables(i._onDidExpansionChange,i._onMouseEnter,i._onMouseLeave),i}return(0,n.Z)(t,e),t.prototype.setExpanded=function(e){var t;null===(t=this._pane)||void 0===t||t.setExpanded(e)},p(t,[{key:"pane",set:function(e){this._pane=e}},{key:"isExpanded",get:function(){var e;return!!(null===(e=this._pane)||void 0===e?void 0:e.isExpanded())}}]),t}(Te),Re=function(e){function t(t,i,n,o,r,s){var a;return(a=e.call(this,t,i,n,o,r,!0)||this)._onDidDrop=new m,a.onDidDrop=a._onDidDrop.event,s||a.initDragFeatures(),a}(0,n.Z)(t,e);var i=t.prototype;return i.initDragFeatures=function(){var e=this;if(this.header){var t=this.id;this.header.draggable=!0,this.handler=new(function(e){function i(){return e.apply(this,arguments)||this}return(0,n.Z)(i,e),i.prototype.getData=function(){return a.getInstance().setData([new s("paneview",t)],s.prototype),{dispose:function(){a.getInstance().clearData(s.prototype)}}},i}(de))(this.header),this.target=new j(this.element,{validOverlays:"vertical",canDisplayOverlay:function(){var t=d();return!t||t.paneId!==e.id}}),this.addDisposables(this._onDidDrop,this.handler,this.target,this.target.onDrop((function(t){e.onDrop(t)})))}},i.onDrop=function(e){var t=d();if(t){var i=this._params.containerApi,n=t.paneId,o=i.getPanel(n);if(o){var r=i.panels,s=r.indexOf(o),a=i.panels.indexOf(this);e.position!==W.Left&&e.position!==W.Top||(a=Math.max(0,a-1)),e.position!==W.Right&&e.position!==W.Bottom||(s>a&&a++,a=Math.min(r.length-1,a)),i.movePanel(s,a)}else this._onDidDrop.fire(Object.assign(Object.assign({},e),{panel:this,getData:function(){return d()}}))}else this._onDidDrop.fire(Object.assign(Object.assign({},e),{panel:this,getData:function(){return d()}}))},t}(function(e){function t(t,i,n,o,r,s){var a;return(a=e.call(this,t,i,new Le(t))||this).headerComponent=n,a._onDidChangeExpansionState=new m({replay:!0}),a.onDidChangeExpansionState=a._onDidChangeExpansionState.event,a._onDidChange=new m,a.onDidChange=a._onDidChange.event,a.headerSize=22,a._orthogonalSize=0,a._size=0,a._minimumBodySize=100,a._maximumBodySize=Number.POSITIVE_INFINITY,a._isExpanded=!1,a.expandedSize=0,a.api.pane=ge(a),a._isExpanded=r,a._headerVisible=s,a._onDidChangeExpansionState.fire(a.isExpanded()),a._orientation=o,a.element.classList.add("pane"),a.addDisposables(a.api.onDidSizeChange((function(e){a._onDidChange.fire(e.size)})),f(a.element,"mouseenter",(function(e){a.api._onMouseEnter.fire(e)})),f(a.element,"mouseleave",(function(e){a.api._onMouseLeave.fire(e)}))),a.addDisposables(a._onDidChangeExpansionState,a.onDidChangeExpansionState((function(e){a.api._onDidExpansionChange.fire({isExpanded:e})})),a.api.onDidFocusChange((function(e){a.header&&(e.isFocused?k(a.header,"focused"):D(a.header,"focused"))}))),a.renderOnce(),a}(0,n.Z)(t,e);var i=t.prototype;return i.setVisible=function(e){this.api._onDidVisibilityChange.fire({isVisible:e})},i.setActive=function(e){this.api._onDidActiveChange.fire({isActive:e})},i.isExpanded=function(){return this._isExpanded},i.setExpanded=function(e){var t=this;this._isExpanded!==e&&(this._isExpanded=e,e?(this.animationTimer&&clearTimeout(this.animationTimer),this.body&&this.element.appendChild(this.body)):this.animationTimer=setTimeout((function(){var e;null===(e=t.body)||void 0===e||e.remove()}),200),this._onDidChange.fire(e?this.width:void 0),this._onDidChangeExpansionState.fire(e))},i.layout=function(t,i){this._size=t,this._orthogonalSize=i;var n=this.orientation===R.HORIZONTAL?[t,i]:[i,t],o=n[0],r=n[1];this.isExpanded()&&(this.expandedSize=o),e.prototype.layout.call(this,o,r)},i.init=function(t){var i,n;e.prototype.init.call(this,t),"number"==typeof t.minimumBodySize&&(this.minimumBodySize=t.minimumBodySize),"number"==typeof t.maximumBodySize&&(this.maximumBodySize=t.maximumBodySize),this.bodyPart=this.getBodyComponent(),this.headerPart=this.getHeaderComponent(),this.bodyPart.init(Object.assign(Object.assign({},t),{api:this.api})),this.headerPart.init(Object.assign(Object.assign({},t),{api:this.api})),null===(i=this.body)||void 0===i||i.append(this.bodyPart.element),null===(n=this.header)||void 0===n||n.append(this.headerPart.element),"boolean"==typeof t.isExpanded&&this.setExpanded(t.isExpanded)},i.toJSON=function(){var t=this._params;return Object.assign(Object.assign({},e.prototype.toJSON.call(this)),{headerComponent:this.headerComponent,title:t.title})},i.renderOnce=function(){this.header=document.createElement("div"),this.header.tabIndex=0,this.header.className="pane-header",this.header.style.height=this.headerSize+"px",this.header.style.lineHeight=this.headerSize+"px",this.header.style.minHeight=this.headerSize+"px",this.header.style.maxHeight=this.headerSize+"px",this.element.appendChild(this.header),this.body=document.createElement("div"),this.body.className="pane-body",this.element.appendChild(this.body)},i.getComponent=function(){var e=this;return{update:function(t){var i,n;null===(i=e.bodyPart)||void 0===i||i.update({params:t}),null===(n=e.headerPart)||void 0===n||n.update({params:t})},dispose:function(){var t,i;null===(t=e.bodyPart)||void 0===t||t.dispose(),null===(i=e.headerPart)||void 0===i||i.dispose()}}},p(t,[{key:"orientation",get:function(){return this._orientation},set:function(e){this._orientation=e}},{key:"minimumSize",get:function(){return this.headerSize+(this.isExpanded()?this._minimumBodySize:0)}},{key:"maximumSize",get:function(){return this.headerSize+(this.isExpanded()?this._maximumBodySize:0)}},{key:"size",get:function(){return this._size}},{key:"orthogonalSize",get:function(){return this._orthogonalSize},set:function(e){this._orthogonalSize=e}},{key:"minimumBodySize",get:function(){return this._minimumBodySize},set:function(e){this._minimumBodySize="number"==typeof e?e:0}},{key:"maximumBodySize",get:function(){return this._maximumBodySize},set:function(e){this._maximumBodySize="number"==typeof e?e:Number.POSITIVE_INFINITY}},{key:"headerVisible",get:function(){return this._headerVisible},set:function(e){this._headerVisible=e,this.header.style.display=e?"":"none"}}]),t}(ze)),Ge=function(e){function t(){var t;return(t=e.call(this)||this).disposable=new b,t.apiRef={api:null},t._element=document.createElement("div"),t.element.className="default-header",t._content=document.createElement("span"),t._expander=document.createElement("a"),t.element.appendChild(t._expander),t.element.appendChild(t._content),t.addDisposables(f(t._element,"click",(function(){var e;null===(e=t.apiRef.api)||void 0===e||e.setExpanded(!t.apiRef.api.isExpanded)}))),t}(0,n.Z)(t,e);var i=t.prototype;return i.init=function(e){var t=this;this.apiRef.api=e.api,this._content.textContent=e.title,this._expander.textContent="\u25bc",S(this._expander,"collapsed",!e.api.isExpanded),this.disposable.value=e.api.onDidExpansionChange((function(e){S(t._expander,"collapsed",!e.isExpanded)}))},i.update=function(e){},i.dispose=function(){this.disposable.dispose(),e.prototype.dispose.call(this)},p(t,[{key:"element",get:function(){return this._element}}]),t}(_),He=function(e){function t(t){var i;return(i=e.call(this,t.id,t.component,t.headerComponent,t.orientation,t.isExpanded,t.disableDnd)||this).options=t,i}(0,n.Z)(t,e);var i=t.prototype;return i.getBodyComponent=function(){return this.options.body},i.getHeaderComponent=function(){return this.options.header},t}(Re),Me=function(e){function t(t,i){var n;return(n=e.call(this)||this).element=t,n._disposable=new b,n._viewDisposables=new Map,n._onDidLayoutfromJSON=new m,n.onDidLayoutFromJSON=n._onDidLayoutfromJSON.event,n._onDidLayoutChange=new m,n.onDidLayoutChange=n._onDidLayoutChange.event,n._onDidDrop=new m,n.onDidDrop=n._onDidDrop.event,n._onDidAddView=new m,n.onDidAddView=n._onDidAddView.event,n._onDidRemoveView=new m,n.onDidRemoveView=n._onDidRemoveView.event,n.addDisposables(n._onDidLayoutChange,n._onDidLayoutfromJSON,n._onDidDrop,n._onDidAddView,n._onDidRemoveView),n._options=i,i.components||(i.components={}),i.frameworkComponents||(i.frameworkComponents={}),n.paneview=new J(n.element,{orientation:R.VERTICAL}),n.addDisposables(n._disposable),n}(0,n.Z)(t,e);var i=t.prototype;return i.focus=function(){},i.updateOptions=function(e){this._options=Object.assign(Object.assign({},this.options),e)},i.addPanel=function(e){var t,i=ke(e.id,e.component,this.options.components||{},this.options.frameworkComponents||{},this.options.frameworkWrapper?{createComponent:this.options.frameworkWrapper.body.createComponent}:void 0);t=e.headerComponent?ke(e.id,e.headerComponent,this.options.headerComponents||{},this.options.headerframeworkComponents,this.options.frameworkWrapper?{createComponent:this.options.frameworkWrapper.header.createComponent}:void 0):new Ge;var n=new He({id:e.id,component:e.component,headerComponent:e.headerComponent,header:t,body:i,orientation:R.VERTICAL,isExpanded:!!e.isExpanded,disableDnd:!!this.options.disableDnd});this.doAddPanel(n);var o="number"==typeof e.size?e.size:M.Distribute,r="number"==typeof e.index?e.index:void 0;return n.init({params:e.params||{},minimumBodySize:e.minimumBodySize,maximumBodySize:e.maximumBodySize,isExpanded:e.isExpanded,title:e.title,containerApi:new oe(this)}),this.paneview.addPane(n,o,r),n.orientation=this.paneview.orientation,n},i.removePanel=function(e){var t=this.panels.findIndex((function(t){return t===e}));this.paneview.removePane(t),this.doRemovePanel(e)},i.movePanel=function(e,t){this.paneview.moveView(e,t)},i.getPanel=function(e){return this.panels.find((function(t){return t.id===e}))},i.layout=function(e,t){var i=this.paneview.orientation===R.HORIZONTAL?[e,t]:[t,e],n=i[0],o=i[1];this.paneview.layout(n,o)},i.toJSON=function(){var e=this,t=function(e){return e===Number.MAX_SAFE_INTEGER||e===Number.POSITIVE_INFINITY?void 0:e};return{views:this.paneview.getPanes().map((function(i,n){var o;return{size:e.paneview.getViewSize(n),data:i.toJSON(),minimumSize:(o=i.minimumBodySize,o<=0?void 0:o),maximumSize:t(i.maximumBodySize),expanded:i.isExpanded()}})),size:this.paneview.size}},i.fromJSON=function(e){var t=this;this.clear();var i=e.views,n=e.size,o=[];this.paneview=new J(this.element,{orientation:R.VERTICAL,descriptor:{size:n,views:i.map((function(e){var i,n=e.data,r=ke(n.id,n.component,t.options.components||{},t.options.frameworkComponents||{},t.options.frameworkWrapper?{createComponent:t.options.frameworkWrapper.body.createComponent}:void 0);i=n.headerComponent?ke(n.id,n.headerComponent,t.options.headerComponents||{},t.options.headerframeworkComponents||{},t.options.frameworkWrapper?{createComponent:t.options.frameworkWrapper.header.createComponent}:void 0):new Ge;var s=new He({id:n.id,component:n.component,headerComponent:n.headerComponent,header:i,body:r,orientation:R.VERTICAL,isExpanded:!!e.expanded,disableDnd:!!t.options.disableDnd});return t.doAddPanel(s),o.push((function(){s.init({params:n.params||{},minimumBodySize:e.minimumSize,maximumBodySize:e.maximumSize,title:n.title,isExpanded:!!e.expanded,containerApi:new oe(t)}),s.orientation=t.paneview.orientation})),setTimeout((function(){t._onDidAddView.fire(s)}),0),{size:e.size,view:s}}))}}),this.layout(this.width,this.height),o.forEach((function(e){return e()})),this._onDidLayoutfromJSON.fire()},i.clear=function(){for(var e,t=(0,l.Z)(this._viewDisposables.entries());!(e=t()).done;){var i=e.value;i[0];i[1].dispose()}this._viewDisposables.clear(),this.paneview.dispose()},i.doAddPanel=function(e){var t=this,i=e.onDidDrop((function(e){t._onDidDrop.fire(e)}));this._viewDisposables.set(e.id,i)},i.doRemovePanel=function(e){var t=this._viewDisposables.get(e.id);t&&(t.dispose(),this._viewDisposables.delete(e.id))},i.dispose=function(){e.prototype.dispose.call(this);for(var t,i=(0,l.Z)(this._viewDisposables.entries());!(t=i()).done;){var n=t.value;n[0];n[1].dispose()}this._viewDisposables.clear(),this.paneview.dispose()},p(t,[{key:"panels",get:function(){return this.paneview.getPanes()}},{key:"paneview",get:function(){return this._paneview},set:function(e){var t=this;this._paneview=e,this._disposable.value=new _(this._paneview.onDidChange((function(){t._onDidLayoutChange.fire(void 0)})),this._paneview.onDidAddView((function(e){return t._onDidAddView.fire(e)})),this._paneview.onDidRemoveView((function(e){return t._onDidRemoveView.fire(e)})))}},{key:"minimumSize",get:function(){return this.paneview.minimumSize}},{key:"maximumSize",get:function(){return this.paneview.maximumSize}},{key:"height",get:function(){return this.paneview.orientation===R.HORIZONTAL?this.paneview.orthogonalSize:this.paneview.size}},{key:"width",get:function(){return this.paneview.orientation===R.HORIZONTAL?this.paneview.size:this.paneview.orthogonalSize}},{key:"options",get:function(){return this._options}}]),t}(_),Fe=function(e){function t(t,i){var n;return(n=e.call(this,t,i,new Te(t))||this)._evaluatedMinimumSize=0,n._evaluatedMaximumSize=Number.POSITIVE_INFINITY,n._minimumSize=0,n._maximumSize=Number.POSITIVE_INFINITY,n._snap=!1,n._onDidChange=new m,n.onDidChange=n._onDidChange.event,n.addDisposables(n._onDidChange,n.api.onVisibilityChange((function(e){var t=e.isVisible;n._params.accessor.setVisible(ge(n),t)})),n.api.onActiveChange((function(){n._params.accessor.setActive(ge(n))})),n.api.onDidConstraintsChangeInternal((function(e){"number"!=typeof e.minimumSize&&"function"!=typeof e.minimumSize||(n._minimumSize=e.minimumSize),"number"!=typeof e.maximumSize&&"function"!=typeof e.maximumSize||(n._maximumSize=e.maximumSize),n.updateConstraints()})),n.api.onDidSizeChange((function(e){n._onDidChange.fire(e.size)}))),n}(0,n.Z)(t,e);var i=t.prototype;return i.setVisible=function(e){this.api._onDidVisibilityChange.fire({isVisible:e})},i.setActive=function(e){this.api._onDidActiveChange.fire({isActive:e})},i.layout=function(t,i){var n=this.orientation===R.HORIZONTAL?[t,i]:[i,t],o=n[0],r=n[1];e.prototype.layout.call(this,o,r)},i.init=function(t){e.prototype.init.call(this,t),this._priority=t.priority,t.minimumSize&&(this._minimumSize=t.minimumSize),t.maximumSize&&(this._maximumSize=t.maximumSize),t.snap&&(this._snap=t.snap)},i.toJSON=function(){var t;return Object.assign(Object.assign({},e.prototype.toJSON.call(this)),{minimumSize:(t=this.minimumSize,t<=0?void 0:t),maximumSize:function(e){return e===Number.MAX_SAFE_INTEGER||e===Number.POSITIVE_INFINITY?void 0:e}(this.maximumSize)})},i.updateConstraints=function(){this.api._onDidConstraintsChange.fire({maximumSize:this._evaluatedMaximumSize,minimumSize:this._evaluatedMinimumSize})},p(t,[{key:"priority",get:function(){return this._priority}},{key:"orientation",get:function(){return this._orientation},set:function(e){this._orientation=e}},{key:"minimumSize",get:function(){var e="function"==typeof this._minimumSize?this._minimumSize():this._minimumSize;return e!==this._evaluatedMinimumSize&&(this._evaluatedMinimumSize=e,this.updateConstraints()),e}},{key:"maximumSize",get:function(){var e="function"==typeof this._maximumSize?this._maximumSize():this._maximumSize;return e!==this._evaluatedMaximumSize&&(this._evaluatedMaximumSize=e,this.updateConstraints()),e}},{key:"snap",get:function(){return this._snap}}]),t}(ze),We=i(7294),Ze=i(3935),Je=function(e,t){var i=We.useState(),n=(i[0],i[1]),o=We.useRef(e.componentProps);return We.useImperativeHandle(t,(function(){return{update:function(e){o.current=Object.assign(Object.assign({},o.current),e),n(Date.now())}}}),[]),We.createElement(e.component,o.current)};Je.displayName="DockviewReactJsBridge";var Be=O(),je=We.createContext({}),Ue=function(){function e(e,t,i,n,o){this.parent=e,this.portalStore=t,this.component=i,this.parameters=n,this.context=o,this.disposed=!1,this.createPortal()}var t=e.prototype;return t.update=function(e){var t;if(this.disposed)throw new Error("invalid operation: resource is already disposed");null===(t=this.componentInstance)||void 0===t||t.update(e)},t.createPortal=function(){var e=this;if(this.disposed)throw new Error("invalid operation: resource is already disposed");if("function"!=typeof this.component)throw new Error("Invalid Operation. dockview only supports React Functional Components.");var t=We.createElement(We.forwardRef(Je),{component:this.component,componentProps:this.parameters,ref:function(t){e.componentInstance=t}}),i=this.context?We.createElement(je.Provider,{value:this.context},t):t,n=Ze.createPortal(i,this.parent,Be.next());this.ref={portal:n,disposable:this.portalStore.addPortal(n)}},t.dispose=function(){var e;null===(e=this.ref)||void 0===e||e.disposable.dispose(),this.disposed=!0},e}(),Xe=function(){var e=We.useState([]),t=e[0],i=e[1];return We.useDebugValue("Portal count: "+t.length),[t,We.useCallback((function(e){i((function(t){return[].concat(t,[e])}));var t=!1;return{dispose:function(){if(t)throw new Error("invalid operation: resource already disposed");t=!0,i((function(t){return t.filter((function(t){return t!==e}))}))}}}),[])]};var Ye=function(){function e(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._onDidFocus=new m,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new m,this.onDidBlur=this._onDidBlur.event,this._element=document.createElement("div"),this._element.className="dockview-react-part",this._actionsElement=document.createElement("div"),this._actionsElement.className="dockview-react-part"}var t=e.prototype;return t.focus=function(){},t.init=function(e){var t={api:e.api,containerApi:e.containerApi,actionsPortalElement:this._actionsElement,tabPortalElement:e.tab};this.part=new Ue(this.element,this.reactPortalStore,this.component,{params:e.params,api:e.api,containerApi:e.containerApi},t)},t.toJSON=function(){return{id:this.id}},t.update=function(e){var t;null===(t=this.part)||void 0===t||t.update(e.params)},t.updateParentGroup=function(e,t){this._group=e},t.layout=function(e,t){},t.dispose=function(){var e,t;this._onDidFocus.dispose(),this._onDidBlur.dispose(),null===(e=this.part)||void 0===e||e.dispose(),null===(t=this.actionsPart)||void 0===t||t.dispose()},p(e,[{key:"element",get:function(){return this._element}},{key:"actions",get:function(){return this._actionsElement}}]),e}(),Ke=function(){function e(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._element=document.createElement("div"),this._element.className="dockview-react-part"}var t=e.prototype;return t.focus=function(){},t.init=function(e){this.part=new Ue(this.element,this.reactPortalStore,this.component,{params:e.params,api:e.api,containerApi:e.containerApi})},t.update=function(e){var t;null===(t=this.part)||void 0===t||t.update(e.params)},t.toJSON=function(){return{id:this.id}},t.layout=function(e,t){},t.updateParentGroup=function(e,t){},t.dispose=function(){var e;null===(e=this.part)||void 0===e||e.dispose()},p(e,[{key:"element",get:function(){return this._element}}]),e}(),Qe=function(){function e(e){this.layout=e}return e.prototype.fromJSON=function(e,t){var i,n,o,r=e.id,s=e.params,a=e.title,u=e.suppressClosable,d=e.view,h=new Ae({content:ke(d.content.id,d.content.id,this.layout.options.components,this.layout.options.frameworkComponents,null===(i=this.layout.options.frameworkComponentFactory)||void 0===i?void 0:i.content),tab:(null===(n=d.tab)||void 0===n?void 0:n.id)?ke(d.tab.id,d.tab.id,this.layout.options.tabComponents,this.layout.options.frameworkTabComponents,null===(o=this.layout.options.frameworkComponentFactory)||void 0===o?void 0:o.tab):new Se}),l=new be(r,this.layout,new se(this.layout),t);return l.init({view:h,title:a,suppressClosable:u,params:s||{}}),l},e}(),qe=function(){function e(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._groupRef={value:void 0},this._element=document.createElement("div"),this._element.className="dockview-react-part"}var t=e.prototype;return t.init=function(e){var t=this;this.parameters=e,this.part=new Ue(this.element,this.reactPortalStore,this.component,{params:e.params,api:e.api,containerApi:e.containerApi,close:function(){t._groupRef.value&&e.containerApi.removeGroup(t._groupRef.value)}})},t.focus=function(){},t.update=function(e){var t,i;this.parameters&&(this.parameters.params=e.params),null===(t=this.part)||void 0===t||t.update({params:(null===(i=this.parameters)||void 0===i?void 0:i.params)||{}})},t.toJSON=function(){return{id:this.id}},t.layout=function(e,t){},t.updateParentGroup=function(e,t){this._groupRef.value=e},t.dispose=function(){var e;null===(e=this.part)||void 0===e||e.dispose()},p(e,[{key:"element",get:function(){return this._element}}]),e}(),$e=We.forwardRef((function(e,t){var i=We.useRef(null),n=We.useRef(),o=Xe(),r=o[0],s=o[1];return We.useImperativeHandle(t,(function(){return i.current}),[]),We.useEffect((function(){if(e.disableAutoResizing)return function(){};var t=C(i.current,(function(e){var t,i=e.contentRect,o=i.width,r=i.height;null===(t=n.current)||void 0===t||t.layout(o,r)}));return function(){t.dispose()}}),[e.disableAutoResizing]),We.useEffect((function(){var t,o={content:{createComponent:function(e,t,i){return new Ye(t,i,{addPortal:s})}},tab:{createComponent:function(e,t,i){return new Ke(t,i,{addPortal:s})}},watermark:{createComponent:function(e,t,i){return new qe(t,i,{addPortal:s})}}},r=document.createElement("div"),a=new Ne(r,{frameworkComponentFactory:o,frameworkComponents:e.components,frameworkTabComponents:e.tabComponents,tabHeight:e.tabHeight,watermarkFrameworkComponent:e.watermarkComponent,styles:e.hideBorders?{separatorBorder:"transparent"}:void 0});null===(t=i.current)||void 0===t||t.appendChild(a.element),a.deserializer=new Qe(a);var u=i.current,d=u.clientWidth,h=u.clientHeight;return a.layout(d,h),e.onReady&&e.onReady({api:new se(a)}),n.current=a,function(){a.dispose(),r.remove()}}),[]),We.useEffect((function(){if(!n.current)return function(){};var t=n.current.onDidDrop((function(t){e.onDidDrop&&e.onDidDrop(t)}));return function(){t.dispose()}}),[e.onDidDrop]),We.useEffect((function(){n.current&&n.current.updateOptions({frameworkComponents:e.components})}),[e.components]),We.useEffect((function(){n.current&&n.current.updateOptions({watermarkFrameworkComponent:e.watermarkComponent})}),[e.watermarkComponent]),We.useEffect((function(){n.current&&n.current.updateOptions({showDndOverlay:e.showDndOverlay})}),[e.showDndOverlay]),We.useEffect((function(){n.current&&n.current.updateOptions({frameworkTabComponents:e.tabComponents})}),[e.tabComponents]),We.useEffect((function(){if(!e.onTabContextMenu||!n.current)return function(){};var t=n.current.onTabContextMenu((function(t){e.onTabContextMenu&&e.onTabContextMenu(t)}));return function(){t.dispose()}}),[e.onTabContextMenu]),We.createElement("div",{className:e.className,style:{height:"100%",width:"100%"},ref:i},r)}));$e.displayName="DockviewComponent";var et=function(e){function t(t,i,n,o){var r;return(r=e.call(this,t,i)||this).reactComponent=n,r.reactPortalStore=o,r}return(0,n.Z)(t,e),t.prototype.getComponent=function(){var e;return new Ue(this.element,this.reactPortalStore,this.reactComponent,{params:(null===(e=this._params)||void 0===e?void 0:e.params)||{},api:this.api,containerApi:new ne(this._params.accessor)})},t}(Fe),tt=We.forwardRef((function(e,t){var i=We.useRef(null),n=We.useRef(),o=Xe(),r=o[0],s=o[1];return We.useImperativeHandle(t,(function(){return i.current}),[]),We.useEffect((function(){if(e.disableAutoResizing)return function(){};var t=C(i.current,(function(e){var t,i=e.contentRect,o=i.width,r=i.height;null===(t=n.current)||void 0===t||t.layout(o,r)}));return function(){t.dispose()}}),[e.disableAutoResizing]),We.useEffect((function(){var t=new Ve(i.current,{orientation:e.orientation||R.HORIZONTAL,frameworkComponents:e.components,frameworkWrapper:{createComponent:function(e,t,i){return new et(e,t,i,{addPortal:s})}},proportionalLayout:"boolean"!=typeof e.proportionalLayout||e.proportionalLayout,styles:e.hideBorders?{separatorBorder:"transparent"}:void 0}),o=i.current,r=o.clientWidth,a=o.clientHeight;return t.layout(r,a),e.onReady&&e.onReady({api:new ne(t)}),n.current=t,function(){t.dispose()}}),[]),We.useEffect((function(){n.current&&n.current.updateOptions({frameworkComponents:e.components})}),[e.components]),We.createElement("div",{className:e.className,style:{height:"100%",width:"100%"},ref:i},r)}));tt.displayName="SplitviewComponent";var it=function(e){function t(t,i,n,o){var r;return(r=e.call(this,t,i)||this).reactComponent=n,r.reactPortalStore=o,r}return(0,n.Z)(t,e),t.prototype.getComponent=function(){var e;return new Ue(this.element,this.reactPortalStore,this.reactComponent,{params:(null===(e=this._params)||void 0===e?void 0:e.params)||{},api:this.api,containerApi:new re(this._params.accessor)})},t}(Ee),nt=We.forwardRef((function(e,t){var i=We.useRef(null),n=We.useRef(),o=Xe(),r=o[0],s=o[1];return We.useImperativeHandle(t,(function(){return i.current}),[]),We.useEffect((function(){if(e.disableAutoResizing)return function(){};var t=C(i.current,(function(e){var t,i=e.contentRect,o=i.width,r=i.height;null===(t=n.current)||void 0===t||t.layout(o,r)}));return function(){t.dispose()}}),[e.disableAutoResizing]),We.useEffect((function(){var t,o=document.createElement("div"),r=new Ie(o,{proportionalLayout:"boolean"!=typeof e.proportionalLayout||e.proportionalLayout,orientation:e.orientation||R.HORIZONTAL,frameworkComponents:e.components,frameworkComponentFactory:{createComponent:function(e,t,i){return new it(e,t,i,{addPortal:s})}},styles:e.hideBorders?{separatorBorder:"transparent"}:void 0});null===(t=i.current)||void 0===t||t.appendChild(r.element);var a=i.current,u=a.clientWidth,d=a.clientHeight;return r.layout(u,d),e.onReady&&e.onReady({api:new re(r)}),n.current=r,function(){r.dispose(),o.remove()}}),[]),We.useEffect((function(){n.current&&n.current.updateOptions({frameworkComponents:e.components})}),[e.components]),We.createElement("div",{className:e.className,style:{height:"100%",width:"100%"},ref:i},r)}));nt.displayName="GridviewComponent";var ot=function(){function e(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._element=document.createElement("div"),this._element.style.height="100%",this._element.style.width="100%"}var t=e.prototype;return t.init=function(e){this.part=new Ue(this.element,this.reactPortalStore,this.component,{params:e.params,api:e.api,title:e.title,containerApi:e.containerApi})},t.toJSON=function(){return{id:this.id}},t.update=function(e){var t;null===(t=this.part)||void 0===t||t.update(e.params)},t.dispose=function(){var e;null===(e=this.part)||void 0===e||e.dispose()},p(e,[{key:"element",get:function(){return this._element}}]),e}(),rt=We.forwardRef((function(e,t){var i=We.useRef(null),n=We.useRef(),o=Xe(),r=o[0],s=o[1];return We.useImperativeHandle(t,(function(){return i.current}),[]),We.useEffect((function(){if(e.disableAutoResizing)return function(){};var t=C(i.current,(function(e){var t,i=e.contentRect,o=i.width,r=i.height;null===(t=n.current)||void 0===t||t.layout(o,r)}));return function(){t.dispose()}}),[e.disableAutoResizing]),We.useEffect((function(){var t=function(e,t,i){return new ot(e,i,{addPortal:s})},o=new Me(i.current,{frameworkComponents:e.components,components:{},headerComponents:{},disableDnd:e.disableDnd,headerframeworkComponents:e.headerComponents,frameworkWrapper:{header:{createComponent:t},body:{createComponent:t}}}),r=new oe(o),a=i.current,u=a.clientWidth,d=a.clientHeight;return o.layout(u,d),e.onReady&&e.onReady({api:r}),n.current=o,function(){o.dispose()}}),[]),We.useEffect((function(){n.current&&n.current.updateOptions({frameworkComponents:e.components})}),[e.components]),We.useEffect((function(){n.current&&n.current.updateOptions({headerframeworkComponents:e.headerComponents})}),[e.headerComponents]),We.useEffect((function(){if(!n.current)return function(){};var t=n.current,i=t.onDidDrop((function(i){e.onDidDrop&&e.onDidDrop(Object.assign(Object.assign({},i),{api:new oe(t)}))}));return function(){i.dispose()}}),[e.onDidDrop]),We.createElement("div",{className:e.className,style:{height:"100%",width:"100%"},ref:i},r)}));rt.displayName="PaneviewComponent"},5567:function(e,t,i){i.d(t,{b:function(){return s}});var n=i(7483),o=i(7294),r={default:function(e){return o.createElement("div",{style:{padding:"20px"}},e.params.title)}},s=function(){return o.createElement(n.tu,{components:r,onReady:function(e){var t=e.api.addPanel({id:"panel_1",component:"default",params:{title:"Panel 1"}});t.group.locked=!0,t.group.header.hidden=!0,e.api.addPanel({id:"panel_2",component:"default",params:{title:"Panel 2"}}),e.api.addPanel({id:"panel_3",component:"default",params:{title:"Panel 3"}}),e.api.addPanel({id:"panel_4",component:"default",params:{title:"Panel 4"},position:{referencePanel:"panel_1",direction:"right"}});e.api.addPanel({id:"panel_5",component:"default",params:{title:"Panel 5"},position:{referencePanel:"panel_3",direction:"right"}});e.api.addPanel({id:"panel_6",component:"default",params:{title:"Panel 6"},position:{referencePanel:"panel_5",direction:"below"}}),e.api.addPanel({id:"panel_7",component:"default",params:{title:"Panel 7"},position:{referencePanel:"panel_6",direction:"right"}})},className:"dockview-theme-dark"})}},645:function(e,t,i){i.d(t,{X:function(){return s}});var n=i(7483),o=i(7294),r={default:function(e){return o.createElement("div",{style:{padding:"20px"}},e.params.title)}},s=function(){return o.createElement(n.$R,{components:r,onReady:function(e){e.api.addPanel({id:"panel_1",component:"default",params:{title:"Panel 1"}}),e.api.addPanel({id:"panel_2",component:"default",params:{title:"Panel 2"}}),e.api.addPanel({id:"panel_3",component:"default",params:{title:"Panel 3"}}),e.api.addPanel({id:"panel_4",component:"default",params:{title:"Panel 4"},position:{referencePanel:"panel_1",direction:"right"}}),e.api.addPanel({id:"panel_5",component:"default",params:{title:"Panel 5"},position:{referencePanel:"panel_3",direction:"right"}}),e.api.addPanel({id:"panel_6",component:"default",params:{title:"Panel 6"},position:{referencePanel:"panel_5",direction:"below"},minimumWidth:10}),e.api.addPanel({id:"panel_7",component:"default",params:{title:"Panel 7"},position:{referencePanel:"panel_6",direction:"right"},minimumWidth:10}),e.api.addPanel({id:"panel_8",component:"default",params:{title:"Panel 8"},position:{referencePanel:"panel_6",direction:"right"},minimumWidth:10})},proportionalLayout:!1,orientation:n.i5.VERTICAL,className:"dockview-theme-dark"})}},5197:function(e,t,i){i.d(t,{p:function(){return a}});var n=i(7483),o=i(7294),r={default:function(e){return o.createElement("div",{style:{padding:"10px",height:"100%",backgroundColor:"rgb(60,60,60)"}},e.params.title)}},s={myHeaderComponent:function(e){var t=o.useState(e.api.isExpanded),i=t[0],n=t[1];o.useEffect((function(){var t=e.api.onDidExpansionChange((function(e){n(e.isExpanded)}));return function(){t.dispose()}}),[]);return o.createElement("div",{style:{padding:"10px",height:"100%",backgroundColor:"rgb(60,60,60)"}},o.createElement("a",{onClick:function(){e.api.setExpanded(!i)},className:i?"expanded":"collapsed"}),o.createElement("span",null,e.params.title))}},a=function(){return o.createElement(n.Vm,{components:r,headerComponents:s,onReady:function(e){e.api.addPanel({id:"panel_1",component:"default",params:{title:"Panel 1"},title:"Panel 1"}),e.api.addPanel({id:"panel_2",component:"default",params:{title:"Panel 2"},title:"Panel 2"}),e.api.addPanel({id:"panel_3",component:"default",params:{title:"Panel 3"},title:"Panel 3"})},className:"dockview-theme-dark"})}},1029:function(e,t,i){i.d(t,{B:function(){return s}});var n=i(7483),o=i(7294),r={default:function(e){return o.createElement("div",{style:{padding:"20px"}},e.params.title)}},s=function(e){return o.createElement(n.TU,{components:r,proportionalLayout:e.proportional,onReady:function(e){e.api.addPanel({id:"panel_1",component:"default",params:{title:"Panel 1"},minimumSize:100}),e.api.addPanel({id:"panel_2",component:"default",params:{title:"Panel 2"},minimumSize:100}),e.api.addPanel({id:"panel_3",component:"default",params:{title:"Panel 3"},minimumSize:100})},orientation:n.i5.HORIZONTAL,className:"dockview-theme-dark"})}},9537:function(e,t,i){i.r(t),i.d(t,{assets:function(){return m},contentTitle:function(){return c},default:function(){return g},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return v}});var n=i(7462),o=i(3366),r=(i(7294),i(876)),s=i(1029),a=i(645),u=i(5197),d=i(5567),h=["components"],l={sidebar_position:0},c="Dockview",p={unversionedId:"index",id:"index",title:"Dockview",description:"Introduction",source:"@site/docs/index.mdx",sourceDirName:".",slug:"/",permalink:"/docs/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/index.mdx",tags:[],version:"current",sidebarPosition:0,frontMatter:{sidebar_position:0},sidebar:"tutorialSidebar",next:{title:"Basics",permalink:"/docs/basics"}},m={},v=[{value:"Introduction",id:"introduction",level:2},{value:"Features",id:"features",level:2},{value:"Quick start",id:"quick-start",level:2}],f={toc:v};function g(e){var t=e.components,i=(0,o.Z)(e,h);return(0,r.kt)("wrapper",(0,n.Z)({},f,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"dockview"},"Dockview"),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"dockview")," is a zero dependency layout manager that supports tab, grids and splitviews."),(0,r.kt)("h2",{id:"features"},"Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Themable and customizable"),(0,r.kt)("li",{parentName:"ul"},"Support for the serialization and deserialization of layouts"),(0,r.kt)("li",{parentName:"ul"},"Drag and drop support")),(0,r.kt)("h2",{id:"quick-start"},"Quick start"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"dockview")," has a peer dependency on ",(0,r.kt)("inlineCode",{parentName:"p"},"react >= 16.8.0")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"react-dom >= 16.8.0"),". To install ",(0,r.kt)("inlineCode",{parentName:"p"},"dockview")," you can run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"npm install dockview\n")),(0,r.kt)("p",null,"You must also import the dockview stylesheet found under ",(0,r.kt)("a",{parentName:"p",href:"https://unpkg.com/browse/dockview@latest/dist/styles/dockview.css"},(0,r.kt)("inlineCode",{parentName:"a"},"dockview/dict/styles/dockview.css")),",\ndepending on your solution this might be:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"@import './node_modules/dockview/dist/styles/dockview.css';\n")),(0,r.kt)("p",null,"A dark and light theme are provided, one of these classes (or a custom theme) must be attached at any point above your components in the HTML tree. To cover the entire web page you might attach the class to the ",(0,r.kt)("inlineCode",{parentName:"p"},"body")," component:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body classname="dockview-theme-dark">\n    ...\n</body>\n<body classname="dockview-theme-light">\n    ...\n</body>\n')),(0,r.kt)("p",null,"There are 4 components you may want to use:"),(0,r.kt)("p",null,"Splitview"),(0,r.kt)("div",{style:{height:"100px",backgroundColor:"rgb(30,30,30)",color:"white",margin:"20px 0px"}},(0,r.kt)(s.B,{mdxType:"SimpleSplitview"})),(0,r.kt)("div",{style:{height:"300px",backgroundColor:"rgb(30,30,30)",color:"white",margin:"20px 0px"}},(0,r.kt)(a.X,{mdxType:"SimpleGridview"})),(0,r.kt)("div",{style:{height:"300px",backgroundColor:"rgb(30,30,30)",color:"white",margin:"20px 0px"}},(0,r.kt)(u.p,{mdxType:"SimplePaneview"})),(0,r.kt)("div",{style:{height:"300px",backgroundColor:"rgb(30,30,30)",color:"white",margin:"20px 0px"}},(0,r.kt)(d.b,{mdxType:"SimpleDockview"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import {\n    DockviewReact,\n    DockviewReadyEvent,\n    PanelCollection,\n    IDockviewPanelProps,\n    IDockviewPanelHeaderProps,\n} from 'dockview';\n\nconst components: PanelCollection<IDockviewPanelProps> = {\n    default: (props: IDockviewPanelProps<{ someProps: string }>) => {\n        return <div>{props.params.someProps}</div>;\n    },\n};\n\nconst headers: PanelCollection<IDockviewPanelHeaderProps> = {\n    customTab: (props: IDockviewPanelHeaderProps) => {\n        return (\n            <div>\n                <span>{props.api.title}</span>\n                <span onClick={() => props.api.close()}>{'[x]'}</span>\n            </div>\n        );\n    },\n};\n\nconst Component = () => {\n    const onReady = (event: DockviewReadyEvent) => {\n        event.api.addPanel({\n            id: 'panel1',\n            component: 'default',\n            tabComponent: 'customTab', // optional custom header\n            params: {\n                someProps: 'Hello',\n            },\n        });\n        event.api.addPanel({\n            id: 'panel2',\n            component: 'default',\n            params: {\n                someProps: 'World',\n            },\n            position: { referencePanel: 'panel1', direction: 'below' },\n        });\n    };\n\n    return (\n        <DockviewReact\n            components={components}\n            tabComponents={headers} // optional headers renderer\n            onReady={onReady}\n        />\n    );\n};\n")))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=4edc808e.4911d946.js.map