import { SimpleDockview } from '../../src/components/simpleDockview';
import Link from '@docusaurus/Link';

# Dockview

Dockview is an abstraction built on top of [Gridviews](/docs/api/gridview) where each view is a tabbed container.

<div
    style={{
        height: '300px',
        backgroundColor: 'rgb(30,30,30)',
        color: 'white',
        margin: '20px 0px',
    }}
>
    <SimpleDockview />
</div>

```tsx
const panel = event.api.addPanel(...);
const anotherPanel = event.api.getPanel('somePanelid');
```

You can access the panels associated group through the `panel.group` variable.
The group will always be defined and will change if a panel is moved into another group.

### Locked group

Locking a group will disable all drop events for this group ensuring a user can not add additional panels to the group.
You can still add groups to a locked panel programatically using the api.

```tsx
panel.group.locked = true;
```

## Group header

You may wish to hide the header section of a group. This can achieved through setting the `hidden` variable on `panel.group.header`.

```tsx
panel.group.header.hidden = true;
```

## Component Props

```tsx
import { ReactDockview } from 'dockview';
```

| Property            | Type                                 | Optional | Default | Description                                                     |
| ------------------- | ------------------------------------ | -------- | ------- | --------------------------------------------------------------- |
| onReady             | (event: SplitviewReadyEvent) => void | No       |         |                                                                 |
| components          | object                               | No       |         |                                                                 |
| tabComponents       | object                               | Yes      |         |                                                                 |
| watermarkComponent  | object                               | Yes      |         |                                                                 |
| hideBorders         | boolean                              | Yes      | false   |                                                                 |
| className           | string                               | Yes      | ''      |                                                                 |
| disableAutoResizing | boolean                              | Yes      | false   | See <Link to="/docs/basics/#auto-resizing">Auto Resizing</Link> |
| onTabContextMenu    | Event                                | Yes      | false   |                                                                 |
| onDidDrop           | Event                                | Yes      | false   |                                                                 |
| showDndOverlay      | Event                                | Yes      | false   |                                                                 |

## Dockview API

```tsx
const MyComponent = (props: IDockviewPanelProps<{ title: string }>) => {
    // props.containerApi...

    return <div>{`My first panel has the title: ${props.params.title}`}</div>;
};
```

```tsx
const onReady = (event: DockviewReadyEvent) => {
    // event.api...
};
```

| Property               | Type                                                 | Description                                                 |
| ---------------------- | ---------------------------------------------------- | ----------------------------------------------------------- |
| height                 | `number`                                             | Component pixel height                                      |
| width                  | `number`                                             | Component pixel width                                       |
| minimumHeight          | `number`                                             |                                                             |
| maximumHeight          | `number`                                             |                                                             |
| maximumWidth           | `number`                                             |                                                             |
| maximumWidth           | `number`                                             |                                                             |
| length                 | `number`                                             | Number of panels                                            |
| size                   | `number`                                             | Number of Groups                                            |
| panels                 | `IDockviewPanel[]`                                   |                                                             |
| groups                 | `GroupPanel[]`                                       |                                                             |
| activePanel            | `IDockviewPanel \| undefined`                        |                                                             |
| activeGroup            | `IDockviewPanel \| undefined`                        |                                                             |
|                        |                                                      |                                                             |
| onDidLayoutChange      | `Event<void>`                                        |                                                             |
| onDidLayoutFromJSON    | `Event<void>`                                        |                                                             |
| onDidAddGroup          | `Event<GroupPanel>`                                  |                                                             |
| onDidRemoveGroup       | `Event<GroupPanel>`                                  |                                                             |
| onDidActiveGroupChange | `Event<GroupPanel \| undefined>`                     |                                                             |
| onDidAddPanel          | `Event<IDockviewPanel>`                              |                                                             |
| onDidRemovePanel       | `Event<IDockviewPanel>`                              |                                                             |
| onDidActivePanelChange | `Event<IDockviewPanel \| undefined>`                 |                                                             |
| onDidDrop              | `Event<DockviewDropEvent`                            |                                                             |
|                        |                                                      |                                                             |
| addPanel               | `addPanel(options: AddPanelOptions): IDockviewPanel` |                                                             |
| getPanel               | `(id: string) \| IDockviewPanel \| undefined`        |                                                             |
| addEmptyGroup          | `(options? AddGroupOptions): void`                   |                                                             |
| closeAllGroups         | `(): void`                                           |                                                             |
| removeGroup            | `(group: GroupPanel): void`                          |                                                             |
| getGroup               | `(id: string): GroupPanel \| undefined`              |                                                             |
|                        |                                                      |                                                             |
| getTabHeight           | `(): number \| undefined`                            |                                                             |
| setTabHeight           | `(hegiht: number \| undefined): void`                |                                                             |
| updateOptions          | `(options:SplitviewComponentUpdateOptions): void`    |                                                             |
| focus                  | `(): void`                                           |                                                             |
| layout                 | `(width: number, height:number): void`               | <Link to="/docs/basics/#auto-resizing">Auto Resizing</Link> |
| fromJSON               | `(data: SerializedDockview): void`                   | <Link to="/docs/basics/#serialization">Serialization</Link> |
| toJSON                 | `(): SerializedDockview`                             | <Link to="/docs/basics/#serialization">Serialization</Link> |

## Dockview Panel API

```tsx
const MyComponent = (props: IDockviewPanelProps<{ title: string }>) => {
    // props.api...

    return <div>{`My first panel has the title: ${props.params.title}`}</div>;
};
```

| Property               | Type                                                        | Description     |
| ---------------------- | ----------------------------------------------------------- | --------------- |
| id                     | `string`                                                    | Panel id        |
| isFocused              | `boolean`                                                   | Is panel focsed |
| isActive               | `boolean`                                                   | Is panel active |
| width                  | `number`                                                    | Panel width     |
| height                 | `number`                                                    | Panel height    |
| onDidDimensionsChange  | `Event<PanelDimensionChangeEvent>`                          |                 |
| onDidFocusChange       | `Event<FocusEvent>`                                         |                 |
| onDidVisibilityChange  | `Event<VisibilityEvent>`                                    |                 |
| onDidActiveChange      | `Event<ActiveEvent>`                                        |                 |
| setActive              | `(): void`                                                  |                 |
|                        |                                                             |                 |
| onDidConstraintsChange | `onDidConstraintsChange: Event<PanelConstraintChangeEvent>` |                 |
| setConstraints         | `(value: PanelConstraintChangeEvent2): void;`               |                 |
| setSize                | `(event: SizeEvent): void`                                  |                 |
|                        |                                                             |                 |
| group                  | `GroupPanel                                                 | undefined`      |
| isGroupActive          | `boolean`                                                   |                 |
| title                  | `string`                                                    |                 |
| suppressClosable       | `boolean`                                                   |                 |
| close                  | `(): void`                                                  |                 |
| setTitle               | `(title: string): void`                                     |                 |

# Context Menu

import { ContextMenuDockview } from '../../src/components/dockview/contextMenu';

<div
    style={{
        height: '300px',
        backgroundColor: 'rgb(30,30,30)',
        color: 'white',
        margin: '20px 0px',
    }}
>
    <ContextMenuDockview />
</div>
